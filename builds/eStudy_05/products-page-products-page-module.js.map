{"version":3,"sources":["./node_modules/@angular/cdk/__ivy_ngcc__/fesm2015/layout.js","./src/app/ui-components/ui-footer/ui-footer.module.ts","./src/app/products-page/products-page.module.ts","./src/app/favourite-products-page/favourite-products-page.component.ts","./src/app/favourite-products-page/favourite-products-page.component.html","./node_modules/@angular/material/__ivy_ngcc__/fesm2015/tooltip.js","./node_modules/@angular/material/__ivy_ngcc__/fesm2015/menu.js","./src/app/ui-components/ui-footer/ui-footer.component.ts","./src/app/ui-components/ui-footer/ui-footer.component.html","./src/app/products-page/products-page.component.ts","./src/app/products-page/products-page.component.html","./src/app/product-detail-page/product-detail-page.component.ts","./src/app/product-detail-page/product-detail-page.component.html","./src/app/services/chat.service.ts","./src/app/types/product.ts"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA2F;AACvC;AACc;AACmB;AACpC;;AAEjD;AACA;AACA;AACA;AACA;AACA;AACA;AACwC;AACQ;AAChD;AACA;AACA,sDAAsD,kCAAkC;AACxF,oBAAoB,8DAAuB,EAAE,qBAAqB;AAClE,oBAAoB,8DAAuB,GAAG;AAC9C,cAAc,oDAAoD,+DAAwB;AAC1F,cAAc,sDAAQ;AACtB,iBAAiB;AACjB,KAAK,eAAe,EAAE;;AAEtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD,gCAAgC,sDAAe,CAAC,8DAAe,GAAG;AACxH,qBAAqB,wEAAkB,EAAE,2CAA2C,yBAAyB,8DAAQ,CAAC,8DAAQ,GAAG,EAAE,2CAA2C;AAC9K;AACA,KAAK,OAAO,8DAAQ;AACpB;AACA,cAAc,oDAAoD,+DAAwB;AAC1F,cAAc,wDAAU;AACxB,gBAAgB,qBAAqB;AACrC,KAAK,gBAAgB,UAAU,OAAO,8DAAe,EAAE,EAAE,EAAE,QAAQ,EAAE;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,MAAM,EAAE,eAAe,GAAG;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,EAAE;AAC9B,+BAA+B;AAC/B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,4CAAO;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC,yEAAW;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC,yEAAW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E5F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACwC;AACO;AACE;AACD;AACJ;AACA;AACE;AACJ;AAC1C;AACA;AACA,kBAAkB,oEAAO;AACzB,QAAQ,kEAAK,0BAA0B,kEAAK,EAAE,oCAAoC;AAClF,QAAQ,kEAAK,YAAY,kEAAK,EAAE,wBAAwB;AACxD,QAAQ,uEAAU,iBAAiB,oEAAO,qCAAqC,sEAAS;AACxF,YAAY,kEAAK,EAAE,+CAA+C;AAClE,YAAY,kEAAK,EAAE,sDAAsD;AACzE,YAAY,kEAAK,EAAE,+CAA+C;AAClE;AACA,QAAQ,uEAAU,gBAAgB,oEAAO,qCAAqC,kEAAK,EAAE,aAAa;AAClG;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,+BAA+B,8FAA+B,EAAE,gBAAgB;AAChF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,SAAS;AAC/C;AACA;AACA,wCAAwC,4DAAc;AACtD;AACA;AACA,sDAAsD,qCAAqC;AAC3F;AACA;AACA;AACA;AACA,WAAW,4DAAO;AAClB;AACA;AACA;AACA,wCAAwC,4DAAc;AACtD;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,6CAAO;AACrC;AACA;AACA;AACA;AACA;AACA,8DAA8D,4DAAM,KAAK,4EAAc;AACvF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,oBAAoB,uBAAuB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,uBAAuB;AAC3C;AACA,yBAAyB,mFAAqB;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA;AACA,qDAAqD,MAAM;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;AACA;AACA,wBAAwB,2BAA2B;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,iEAAS;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,oEAAe;AAC1D;AACA;AACA,kBAAkB,iEAAS;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,iEAAS;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,kBAAkB,iEAAS;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C;AAC1C,0CAA0C;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B;AAC9B;AACA;AACA;AACA;AACA,8BAA8B;AAC9B;AACA;AACA;AACA;AACA,8BAA8B;AAC9B;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,4DAAI,KAAK,iEAAS;AACjE;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD,8BAA8B,+DAAwB,CAAC,4DAAc,GAAG,+DAAwB,CAAC,wDAAiB,GAAG,+DAAwB,CAAC,uEAAuB,GAAG,+DAAwB,CAAC,8DAAuB,GAAG,+DAAwB,CAAC,oDAAa,GAAG,+DAAwB,CAAC,+DAAe,GAAG,+DAAwB,CAAC,+DAAoB,GAAG,+DAAwB,CAAC,8DAAmB,GAAG,+DAAwB,+BAA+B,+DAAwB,CAAC,gEAAqB,MAAM,+DAAwB,kCAAkC,+DAAwB,CAAC,wDAAQ,GAAG;AACzoB,kBAAkB,+DAAwB,EAAE,wGAAwG,mVAAmV,4BAA4B;AACngB;AACA,KAAK,OAAO,4DAAO,EAAE;AACrB,KAAK,OAAO,wDAAU,EAAE;AACxB,KAAK,OAAO,uEAAgB,EAAE;AAC9B,KAAK,OAAO,8DAAgB,EAAE;AAC9B,KAAK,OAAO,oDAAM,EAAE;AACpB,KAAK,OAAO,+DAAQ,EAAE;AACtB,KAAK,OAAO,+DAAa,EAAE;AAC3B,KAAK,OAAO,8DAAY,EAAE;AAC1B,KAAK,gCAAgC,OAAO,oDAAM,wCAAwC,GAAG;AAC7F,KAAK,OAAO,gEAAc,gBAAgB,OAAO,sDAAQ,EAAE,GAAG;AAC9D,KAAK,gCAAgC,OAAO,sDAAQ,EAAE,GAAG,OAAO,oDAAM,wCAAwC,GAAG;AACjH,KAAK,gCAAgC,OAAO,oDAAM,SAAS,wDAAQ,IAAI;AACvE;AACA;AACA,gBAAgB,OAAO,mDAAK,iCAAiC;AAC7D,gBAAgB,OAAO,mDAAK,iCAAiC;AAC7D,iBAAiB,OAAO,mDAAK,kCAAkC;AAC/D,iBAAiB,OAAO,mDAAK,kCAAkC;AAC/D,qBAAqB,OAAO,mDAAK,sCAAsC;AACvE,eAAe,OAAO,mDAAK,yBAAyB;AACpD,oBAAoB,OAAO,mDAAK,8BAA8B;AAC9D;AACA,cAAc,oDAAoD,+DAAwB;AAC1F,cAAc,uDAAS;AACvB;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,KAAK,gBAAgB,UAAU,OAAO,4DAAc,EAAE,GAAG,OAAO,wDAAiB,EAAE,GAAG,OAAO,uEAAuB,EAAE,GAAG,OAAO,8DAAuB,EAAE,GAAG,OAAO,oDAAa,EAAE,GAAG,OAAO,+DAAe,EAAE,GAAG,OAAO,+DAAoB,EAAE,GAAG,OAAO,8DAAmB,EAAE,GAAG;AAC/Q,sBAAsB,oDAAM;AAC5B;AACA,aAAa,GAAG,GAAG,OAAO,gEAAqB;AAC/C,sBAAsB,sDAAQ;AAC9B,aAAa,GAAG,GAAG;AACnB,sBAAsB,sDAAQ;AAC9B,aAAa;AACb,sBAAsB,oDAAM;AAC5B;AACA,aAAa,GAAG,GAAG;AACnB,sBAAsB,oDAAM;AAC5B,uBAAuB,wDAAQ;AAC/B,aAAa,GAAG,EAAE,EAAE,GAAG;AACvB,kBAAkB,mDAAK;AACvB;AACA,SAAS;AACT,kBAAkB,mDAAK;AACvB;AACA,SAAS;AACT,kBAAkB,mDAAK;AACvB;AACA,SAAS;AACT,kBAAkB,mDAAK;AACvB;AACA,SAAS;AACT,kBAAkB,mDAAK;AACvB;AACA,SAAS;AACT,kBAAkB,mDAAK;AACvB;AACA,SAAS;AACT,kBAAkB,mDAAK;AACvB;AACA,SAAS,GAAG,EAAE,EAAE;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,6CAAO;AAClC;AACA,2DAA2D,+DAAW;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8DAA8D,oCAAoC,+DAAwB,CAAC,+DAAwB,GAAG,+DAAwB,CAAC,sEAAyB,GAAG;AAC3M,wBAAwB,+DAAwB,EAAE,iLAAiL;AACnO,QAAQ,wDAAiB,gEAAgE,qCAAqC,EAAE,SAAS,2DAAoB,uEAAuE,qCAAqC,EAAE,SAAS,2DAAoB;AACxS,KAAK;AACL,QAAQ,yDAAkB;AAC1B,KAAK,EAAE,wHAAwH;AAC/H,QAAQ,4DAAqB;AAC7B,QAAQ,wDAAiB,4FAA4F,8BAA8B,EAAE,iGAAiG,mCAAmC,EAAE;AAC3R,QAAQ,oDAAa;AACrB,QAAQ,oDAAa;AACrB,QAAQ,0DAAmB;AAC3B,KAAK;AACL;AACA,QAAQ,yDAAkB,mCAAmC,yDAAkB;AAC/E,QAAQ,wDAAiB;AACzB,QAAQ,uDAAgB;AACxB,QAAQ,+DAAwB;AAChC,KAAK,EAAE,eAAe,uDAAc,WAAW,yDAAgB,gCAAgC,+BAA+B,aAAa,WAAW,kBAAkB,YAAY,gBAAgB,iBAAiB,kBAAkB,gBAAgB,uBAAuB,uCAAuC,kBAAkB,qBAAqB,YAAY,kBAAkB,mBAAmB,+BAA+B,iDAAiD,sBAAsB;AACnf;AACA,KAAK,OAAO,+DAAiB,EAAE;AAC/B,KAAK,OAAO,sEAAkB;AAC9B;AACA,cAAc,oDAAoD,+DAAwB;AAC1F,cAAc,uDAAS;AACvB;AACA;AACA,sRAAsR,SAAS;AAC/R,+BAA+B,+DAAiB;AAChD,iCAAiC,qEAAuB;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,6CAA6C,+BAA+B,aAAa,WAAW,kBAAkB,YAAY,gBAAgB,iBAAiB,kBAAkB,gBAAgB,uBAAuB,uCAAuC,kBAAkB,qBAAqB,YAAY,kBAAkB,mBAAmB;AAC3V,aAAa;AACb,KAAK,gBAAgB,UAAU,OAAO,+DAAwB,EAAE,GAAG,OAAO,sEAAyB,EAAE,EAAE,EAAE,QAAQ,EAAE;;AAEnH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8DAA8D,sCAAsC;AACpG,wBAAwB,8DAAuB,EAAE,yBAAyB;AAC1E,wBAAwB,8DAAuB,EAAE;AACjD,YAAY,4DAAU;AACtB,YAAY,4DAAY;AACxB,YAAY,kEAAa;AACzB,YAAY,sEAAe;AAC3B,WAAW,sEAAe,EAAE,0EAAmB,GAAG;AAClD,cAAc,oDAAoD,gEAAyB,oBAAoB,4BAA4B,uCAAuC,EAAE,wBAAwB,SAAS,4DAAU;AAC/N,QAAQ,4DAAY;AACpB,QAAQ,kEAAa;AACrB,QAAQ,sEAAe,EAAE,EAAE,wBAAwB,uCAAuC,sEAAe,EAAE,0EAAmB,EAAE,EAAE,EAAE,EAAE,EAAE;AACxI,cAAc,oDAAoD,+DAAwB;AAC1F,cAAc,sDAAQ;AACtB;AACA;AACA,oBAAoB,4DAAU;AAC9B,oBAAoB,4DAAY;AAChC,oBAAoB,kEAAa;AACjC,oBAAoB,sEAAe;AACnC;AACA,wDAAwD,sEAAe,EAAE,0EAAmB;AAC5F;AACA;AACA;AACA,aAAa;AACb,KAAK,eAAe,EAAE;;AAEtB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAE8U;;AAE9U,mC;;;;;;;;;;;;AC7xBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAqI;AACvE;AAC8D;AACiP;AACtS;AACe;AACL;AACX;AACb;AACoD;AAC1D;AAC0B;AACL;AACX;;AAE7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACwC;AACI;AACK;AACP;AACK;AACH;;AAE5C;AACA;AACA,kDAAkD;AAClD,gBAAgB,8DAAuB;AACvC,IAAI,4DAAqB;AACzB,IAAI,wDAAiB,oFAAoF,CAAC,2DAAoB,MAAM,gBAAgB,2DAAoB,GAAG,sCAAsC,EAAE,2EAA2E,CAAC,2DAAoB,MAAM,gBAAgB,2DAAoB,GAAG,oCAAoC,EAAE,wHAAwH,CAAC,2DAAoB,MAAM,gBAAgB,2DAAoB,GAAG,yCAAyC,EAAE,sHAAsH,CAAC,2DAAoB,MAAM,gBAAgB,2DAAoB,GAAG,wCAAwC,EAAE;AAC70B,IAAI,4DAAqB;AACzB,IAAI,0DAAmB;AACvB,IAAI,0DAAmB;AACvB,IAAI,0DAAmB;AACvB,CAAC;AACD,mBAAmB,2DAAoB;AACvC,IAAI,wDAAiB;AACrB,IAAI,yDAAkB;AACtB,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,mEAAO;AAC1B,QAAQ,iEAAK,SAAS,iEAAK;AAC3B;AACA;AACA,SAAS;AACT,QAAQ,sEAAU,kBAAkB,mEAAO,qCAAqC,iEAAK;AACrF;AACA;AACA,SAAS;AACT,QAAQ,sEAAU,cAAc,mEAAO,sBAAsB,iEAAK,EAAE,aAAa;AACjF;AACA;AACA;AACA;AACA;AACA,iBAAiB,mEAAO;AACxB;AACA;AACA,QAAQ,iEAAK,YAAY,iEAAK,EAAE,aAAa;AAC7C,QAAQ,sEAAU;AAClB,YAAY,iEAAK,EAAE,aAAa;AAChC,YAAY,mEAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,4DAAc;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,4CAAO;AACpC;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA,+BAA+B,kEAAc;AAC7C;AACA;AACA;AACA,+BAA+B,mEAAe;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0DAA0D,kCAAkC,+DAAwB,CAAC,yDAAkB,GAAG,+DAAwB,CAAC,sEAA+B,GAAG,+DAAwB,CAAC,4DAAqB,GAAG,+DAAwB,CAAC,sDAAe,GAAG,+DAAwB,CAAC,8DAAuB,GAAG,+DAAwB,CAAC,wDAAQ,GAAG,+DAAwB,CAAC,+DAAwB,GAAG;AAC5a,sBAAsB,+DAAwB,EAAE,sFAAsF,gEAAyB,GAAG,yDAAyD,KAAK;AAChO;AACA,KAAK,OAAO,yDAAW,EAAE;AACzB,KAAK,OAAO,sEAAwB,EAAE;AACtC,KAAK,OAAO,4DAAc,EAAE;AAC5B,KAAK,OAAO,sDAAQ,EAAE;AACtB,KAAK,OAAO,8DAAgB,EAAE;AAC9B,KAAK,gCAAgC,OAAO,oDAAM,SAAS,wDAAQ,IAAI,GAAG;AAC1E,KAAK,OAAO,+DAAiB;AAC7B;AACA,cAAc,oDAAoD,+DAAwB;AAC1F,cAAc,uDAAS;AACvB;AACA;AACA,6BAA6B,yDAAyD;AACtF,aAAa;AACb,KAAK,gBAAgB,UAAU,OAAO,yDAAkB,EAAE,GAAG,OAAO,sEAA+B,EAAE,GAAG,OAAO,4DAAqB,EAAE,GAAG,OAAO,sDAAe,EAAE,GAAG,OAAO,8DAAuB,EAAE,GAAG;AACvM,sBAAsB,oDAAM;AAC5B,uBAAuB,wDAAQ;AAC/B,aAAa,GAAG,GAAG,OAAO,+DAAwB,EAAE,EAAE,EAAE,QAAQ,EAAE;;AAElE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,4DAAc;;AAEzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,iFAAkB,CAAC,4EAAa;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,4CAAO;AACnC;AACA,4BAA4B,4CAAO;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,kBAAkB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD,+BAA+B,+DAAwB,CAAC,wDAAiB,GAAG,+DAAwB,CAAC,wDAAQ,GAAG,+DAAwB,CAAC,8DAAmB,GAAG,+DAAwB,qBAAqB;AAChQ,mBAAmB,+DAAwB,EAAE,2KAA2K;AACxN,QAAQ,wDAAiB,iEAAiE,mCAAmC,EAAE,sEAAsE,gCAAgC,EAAE;AACvO,KAAK;AACL,QAAQ,yDAAkB;AAC1B,QAAQ,yDAAkB;AAC1B,KAAK,EAAE,WAAW,qEAAqE,wCAAwC,wEAAiC,4MAA4M;AAC5W,QAAQ,6DAAsB;AAC9B,QAAQ,0DAAmB;AAC3B,QAAQ,uDAAgB;AACxB,KAAK;AACL,QAAQ,uDAAgB;AACxB,QAAQ,wDAAiB;AACzB,KAAK,EAAE,eAAe,gEAAgB,yCAAyC;AAC/E;AACA,KAAK,OAAO,wDAAU,EAAE;AACxB,KAAK,gCAAgC,OAAO,oDAAM,SAAS,wDAAQ,IAAI,GAAG;AAC1E,KAAK,OAAO,8DAAY,EAAE;AAC1B,KAAK,gCAAgC,OAAO,oDAAM,2BAA2B,GAAG,OAAO,sDAAQ,EAAE;AACjG;AACA;AACA,YAAY,OAAO,mDAAK,EAAE;AAC1B,sBAAsB,OAAO,0DAAY,gCAAgC;AACzE,yBAAyB,OAAO,0DAAY,yBAAyB;AACrE;AACA,cAAc,oDAAoD,+DAAwB;AAC1F,cAAc,uDAAS;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,iCAAiC,qEAAuB;AACxD,+BAA+B,+DAAiB;AAChD;AACA,aAAa;AACb,KAAK,gBAAgB,UAAU,OAAO,wDAAiB,EAAE,GAAG;AAC5D,sBAAsB,oDAAM;AAC5B,uBAAuB,wDAAQ;AAC/B,aAAa,GAAG,GAAG,OAAO,8DAAmB,EAAE,GAAG;AAClD,sBAAsB,oDAAM;AAC5B;AACA,aAAa;AACb,sBAAsB,sDAAQ;AAC9B,aAAa,GAAG,EAAE,EAAE,GAAG;AACvB,kBAAkB,mDAAK;AACvB,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,0DAAY;AAC9B;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,0DAAY;AAC9B;AACA,SAAS,GAAG,EAAE,EAAE;;AAEhB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC,4DAAc;AACnD;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,uDAAS;AACnD;AACA,gCAAgC,iDAAY;AAC5C;AACA;AACA;AACA;AACA;AACA,kCAAkC,4CAAO;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,0DAAY;AACtC;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,eAAe;AACxD;AACA;AACA,qBAAqB,wBAAwB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,wBAAwB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,6BAA6B;AACvD;AACA,+BAA+B,mFAAqB;AACpD;AACA;AACA,uBAAuB,0BAA0B;AACjD;AACA,4BAA4B,mFAAqB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,wBAAwB;AAC7C,4BAA4B,2BAA2B;AACvD;AACA;AACA;AACA;AACA;AACA,+BAA+B,iEAAe;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,gEAAS,+BAA+B,gEAAS,UAAU,kDAAK;AACjH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,gEAAS,+BAA+B,gEAAS,UAAU,kDAAK;AAChG;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA,iBAAiB,4DAAM;AACvB,qBAAqB,4EAAc;AACnC;AACA;AACA;AACA;AACA,iBAAiB,gEAAU;AAC3B;AACA;AACA;AACA;AACA,iBAAiB,iEAAW;AAC5B;AACA;AACA;AACA;AACA;AACA,gCAAgC,8DAAQ,gBAAgB,gEAAU;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,2DAAI;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,UAAU;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,gEAAS;AAC3B;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,sDAAsD,gCAAgC,+DAAwB,CAAC,wDAAiB,GAAG,+DAAwB,CAAC,oDAAa,GAAG,+DAAwB,4BAA4B;AAChO,oBAAoB,+DAAwB,EAAE,8FAA8F;AAC5I,QAAQ,4DAAqB;AAC7B,QAAQ,4DAAqB;AAC7B,QAAQ,4DAAqB;AAC7B,KAAK;AACL;AACA,QAAQ,4DAAqB,MAAM,yDAAkB;AACrD,QAAQ,4DAAqB,MAAM,yDAAkB;AACrD,QAAQ,4DAAqB,MAAM,yDAAkB;AACrD,KAAK,EAAE,mDAAmD;AAC1D,QAAQ,yDAAkB,CAAC,yDAAW;AACtC,KAAK;AACL;AACA,QAAQ,4DAAqB,MAAM,yDAAkB;AACr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AACA;AACA;AACA,iBAAiB,0FAAgC;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,0DAAY;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,0DAAY;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,kBAAkB;AAC1D;AACA;AACA;AACA;AACA,gBAAgB,mBAAmB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,6DAAM,qCAAqC,2DAAI;AACzE;AACA,gBAAgB,gEAAS;AACzB;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,mEAAa;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,gDAAgD;AAC7D,aAAa,mFAAmF;AAChG;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yFAAyF,+CAAE;AAC3F,0FAA0F,6DAAM,+CAA+C,6DAAM,0BAA0B,+CAAE;AACjL,eAAe,kDAAK;AACpB;AACA;AACA;AACA,aAAa,yFAA+B;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,2DAAK,gBAAgB,2DAAK;AAClD;AACA;AACA,oDAAoD,iEAAW;AAC/D,yBAAyB,gEAAU;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,6DAAM,mEAAmE,4DAAK,IAAI,kDAAa;AACjH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,2DAAI,KAAK,4DAAK,IAAI,kDAAa,GAAG,gEAAS;AACrE;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,kEAAc;AAC7C;AACA;AACA;AACA;AACA,0DAA0D,kCAAkC,+DAAwB,CAAC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","file":"products-page-products-page-module.js","sourcesContent":["import { NgModule, defineInjectable, inject, Injectable, NgZone } from '@angular/core';\nimport { coerceArray } from '@angular/cdk/coercion';\nimport { Subject, combineLatest, concat, Observable } from 'rxjs';\nimport { take, skip, debounceTime, map, startWith, takeUntil } from 'rxjs/operators';\nimport { Platform } from '@angular/cdk/platform';\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nimport * as ngcc0 from '@angular/core';\nimport * as ngcc1 from '@angular/cdk/platform';\nclass LayoutModule {\n}\nLayoutModule.fac = function LayoutModule_Factory(t) { return new (t || LayoutModule)(); };\nLayoutModule.mod = ngcc0.defineNgModule({ type: LayoutModule });\nLayoutModule.inj = ngcc0.defineInjector({});\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ngcc0.setClassMetadata(LayoutModule, [{\n        type: NgModule,\n        args: [{}]\n    }], null, null); })();\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/** Global registry for all dynamically-created, injected media queries. */\nconst mediaQueriesForWebkitCompatibility = new Set();\n/** Style tag that holds all of the dynamically-created media queries. */\nlet mediaQueryStyleNode;\n/** A utility for calling matchMedia queries. */\nclass MediaMatcher {\n    constructor(_platform) {\n        this._platform = _platform;\n        this._matchMedia = this._platform.isBrowser && window.matchMedia ?\n            // matchMedia is bound to the window scope intentionally as it is an illegal invocation to\n            // call it from a different scope.\n            window.matchMedia.bind(window) :\n            noopMatchMedia;\n    }\n    /**\n     * Evaluates the given media query and returns the native MediaQueryList from which results\n     * can be retrieved.\n     * Confirms the layout engine will trigger for the selector query provided and returns the\n     * MediaQueryList for the query provided.\n     */\n    matchMedia(query) {\n        if (this._platform.WEBKIT) {\n            createEmptyStyleRule(query);\n        }\n        return this._matchMedia(query);\n    }\n}\nMediaMatcher.fac = function MediaMatcher_Factory(t) { return new (t || MediaMatcher)(ngcc0.inject(ngcc1.Platform)); };\nMediaMatcher.prov = defineInjectable({ factory: function MediaMatcher_Factory() { return new MediaMatcher(inject(Platform)); }, token: MediaMatcher, providedIn: \"root\" });\nMediaMatcher.ctorParameters = () => [\n    { type: Platform }\n];\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ngcc0.setClassMetadata(MediaMatcher, [{\n        type: Injectable,\n        args: [{ providedIn: 'root' }]\n    }], function () { return [{ type: ngcc1.Platform }]; }, null); })();\n/**\n * For Webkit engines that only trigger the MediaQueryListListener when\n * there is at least one CSS selector for the respective media query.\n */\nfunction createEmptyStyleRule(query) {\n    if (mediaQueriesForWebkitCompatibility.has(query)) {\n        return;\n    }\n    try {\n        if (!mediaQueryStyleNode) {\n            mediaQueryStyleNode = document.createElement('style');\n            mediaQueryStyleNode.setAttribute('type', 'text/css');\n            document.head.appendChild(mediaQueryStyleNode);\n        }\n        if (mediaQueryStyleNode.sheet) {\n            mediaQueryStyleNode.sheet\n                .insertRule(`@media ${query} {.fx-query-test{ }}`, 0);\n            mediaQueriesForWebkitCompatibility.add(query);\n        }\n    }\n    catch (e) {\n        console.error(e);\n    }\n}\n/** No-op matchMedia replacement for non-browser platforms. */\nfunction noopMatchMedia(query) {\n    // Use `as any` here to avoid adding additional necessary properties for\n    // the noop matcher.\n    return {\n        matches: query === 'all' || query === '',\n        media: query,\n        addListener: () => { },\n        removeListener: () => { }\n    };\n}\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/** Utility for checking the matching state of @media queries. */\nclass BreakpointObserver {\n    constructor(_mediaMatcher, _zone) {\n        this._mediaMatcher = _mediaMatcher;\n        this._zone = _zone;\n        /**  A map of all media queries currently being listened for. */\n        this._queries = new Map();\n        /** A subject for all other observables to takeUntil based on. */\n        this._destroySubject = new Subject();\n    }\n    /** Completes the active subject, signalling to all other observables to complete. */\n    ngOnDestroy() {\n        this._destroySubject.next();\n        this._destroySubject.complete();\n    }\n    /**\n     * Whether one or more media queries match the current viewport size.\n     * @param value One or more media queries to check.\n     * @returns Whether any of the media queries match.\n     */\n    isMatched(value) {\n        const queries = splitQueries(coerceArray(value));\n        return queries.some(mediaQuery => this._registerQuery(mediaQuery).mql.matches);\n    }\n    /**\n     * Gets an observable of results for the given queries that will emit new results for any changes\n     * in matching of the given queries.\n     * @param value One or more media queries to check.\n     * @returns A stream of matches for the given queries.\n     */\n    observe(value) {\n        const queries = splitQueries(coerceArray(value));\n        const observables = queries.map(query => this._registerQuery(query).observable);\n        let stateObservable = combineLatest(observables);\n        // Emit the first state immediately, and then debounce the subsequent emissions.\n        stateObservable = concat(stateObservable.pipe(take(1)), stateObservable.pipe(skip(1), debounceTime(0)));\n        return stateObservable.pipe(map(breakpointStates => {\n            const response = {\n                matches: false,\n                breakpoints: {},\n            };\n            breakpointStates.forEach(({ matches, query }) => {\n                response.matches = response.matches || matches;\n                response.breakpoints[query] = matches;\n            });\n            return response;\n        }));\n    }\n    /** Registers a specific query to be listened for. */\n    _registerQuery(query) {\n        // Only set up a new MediaQueryList if it is not already being listened for.\n        if (this._queries.has(query)) {\n            return this._queries.get(query);\n        }\n        const mql = this._mediaMatcher.matchMedia(query);\n        // Create callback for match changes and add it is as a listener.\n        const queryObservable = new Observable((observer) => {\n            // Listener callback methods are wrapped to be placed back in ngZone. Callbacks must be placed\n            // back into the zone because matchMedia is only included in Zone.js by loading the\n            // webapis-media-query.js file alongside the zone.js file.  Additionally, some browsers do not\n            // have MediaQueryList inherit from EventTarget, which causes inconsistencies in how Zone.js\n            // patches it.\n            const handler = (e) => this._zone.run(() => observer.next(e));\n            mql.addListener(handler);\n            return () => {\n                mql.removeListener(handler);\n            };\n        }).pipe(startWith(mql), map(({ matches }) => ({ query, matches })), takeUntil(this._destroySubject));\n        // Add the MediaQueryList to the set of queries.\n        const output = { observable: queryObservable, mql };\n        this._queries.set(query, output);\n        return output;\n    }\n}\nBreakpointObserver.fac = function BreakpointObserver_Factory(t) { return new (t || BreakpointObserver)(ngcc0.inject(MediaMatcher), ngcc0.inject(ngcc0.NgZone)); };\nBreakpointObserver.prov = defineInjectable({ factory: function BreakpointObserver_Factory() { return new BreakpointObserver(inject(MediaMatcher), inject(NgZone)); }, token: BreakpointObserver, providedIn: \"root\" });\nBreakpointObserver.ctorParameters = () => [\n    { type: MediaMatcher },\n    { type: NgZone }\n];\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ngcc0.setClassMetadata(BreakpointObserver, [{\n        type: Injectable,\n        args: [{ providedIn: 'root' }]\n    }], function () { return [{ type: MediaMatcher }, { type: ngcc0.NgZone }]; }, null); })();\n/**\n * Split each query string into separate query strings if two queries are provided as comma\n * separated.\n */\nfunction splitQueries(queries) {\n    return queries.map(query => query.split(','))\n        .reduce((a1, a2) => a1.concat(a2))\n        .map(query => query.trim());\n}\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n// PascalCase is being used as Breakpoints is used like an enum.\n// tslint:disable-next-line:variable-name\nconst Breakpoints = {\n    XSmall: '(max-width: 599.98px)',\n    Small: '(min-width: 600px) and (max-width: 959.98px)',\n    Medium: '(min-width: 960px) and (max-width: 1279.98px)',\n    Large: '(min-width: 1280px) and (max-width: 1919.98px)',\n    XLarge: '(min-width: 1920px)',\n    Handset: '(max-width: 599.98px) and (orientation: portrait), ' +\n        '(max-width: 959.98px) and (orientation: landscape)',\n    Tablet: '(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), ' +\n        '(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)',\n    Web: '(min-width: 840px) and (orientation: portrait), ' +\n        '(min-width: 1280px) and (orientation: landscape)',\n    HandsetPortrait: '(max-width: 599.98px) and (orientation: portrait)',\n    TabletPortrait: '(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)',\n    WebPortrait: '(min-width: 840px) and (orientation: portrait)',\n    HandsetLandscape: '(max-width: 959.98px) and (orientation: landscape)',\n    TabletLandscape: '(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)',\n    WebLandscape: '(min-width: 1280px) and (orientation: landscape)',\n};\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { BreakpointObserver, Breakpoints, LayoutModule, MediaMatcher };\n\n//# sourceMappingURL=layout.js.map","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FlexLayoutModule } from '@angular/flex-layout';\n\nimport { MatButtonModule } from '@angular/material/button';\n\nimport { UiFooterComponent } from './ui-footer.component';\n\n@NgModule({\n  declarations: [UiFooterComponent],\n  imports: [CommonModule, FlexLayoutModule, MatButtonModule],\n  exports: [UiFooterComponent],\n})\nexport class UiFooterModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { RouterModule, Routes } from '@angular/router';\nimport { FlexLayoutModule } from '@angular/flex-layout';\n\nimport { MatCardModule } from '@angular/material/card';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatChipsModule } from '@angular/material/chips';\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport { MatMenuModule } from '@angular/material/menu';\n\nimport { UiHeaderModule } from '../ui-components/ui-header/ui-header.module';\nimport { UiFooterModule } from '../ui-components/ui-footer/ui-footer.module';\n\nimport { ProductsPageComponent } from './products-page.component';\nimport { ProductDetailPageComponent } from '../product-detail-page/product-detail-page.component';\nimport { FavouriteProductsPageComponent } from '../favourite-products-page/favourite-products-page.component';\nimport { AuthGuard } from '../interceptors/aut.guard';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ProductsPageComponent,\n  },\n  {\n    path: 'favourite',\n    canActivate: [AuthGuard],\n    component: FavouriteProductsPageComponent,\n  },\n  { path: ':id', component: ProductDetailPageComponent },\n];\n\n@NgModule({\n  declarations: [\n    ProductsPageComponent,\n    FavouriteProductsPageComponent,\n    ProductDetailPageComponent,\n  ],\n  imports: [\n    CommonModule,\n    RouterModule.forChild(routes),\n    ReactiveFormsModule,\n    FlexLayoutModule,\n    UiHeaderModule,\n    UiFooterModule,\n\n    MatCardModule,\n    MatButtonModule,\n    MatInputModule,\n    MatChipsModule,\n    MatTooltipModule,\n    MatMenuModule,\n  ],\n})\nexport class ProductsPageModule {}\n","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { NavigationEnd, NavigationStart, Router } from '@angular/router';\nimport { HttpParams } from '@angular/common/http';\nimport { trigger, style, transition, animate } from '@angular/animations';\n\nimport { AuthService } from '../services/auth.service';\nimport { UserService } from '../services/user.service';\n\nimport { Observable, of, ReplaySubject, timer } from 'rxjs';\nimport {\n  mergeMap,\n  takeUntil,\n  delay,\n  filter,\n  take,\n  skipWhile,\n} from 'rxjs/operators';\nimport { User } from '../types/user';\nimport { Product } from '../types/product';\n\n@Component({\n  selector: 'estudy-favourite-products-page',\n  templateUrl: './favourite-products-page.component.html',\n  styleUrls: ['./favourite-products-page.component.scss'],\n  animations: [\n    trigger('fadeOut', [\n      transition(':enter', [\n        style({ opacity: 0 }),\n        animate('320ms 150ms ease-out', style({ opacity: 1 })),\n      ]),\n      transition(':leave', [\n        style({ opacity: 1 }),\n        animate('280ms 150ms ease-in', style({ opacity: 0 })),\n      ]),\n    ]),\n  ],\n})\nexport class FavouriteProductsPageComponent implements OnInit, OnDestroy {\n  user: User = null;\n  productsToRemove: Product[] = [];\n\n  isLoading: boolean = false;\n\n  private unsubscribe: ReplaySubject<void> = new ReplaySubject<void>();\n\n  constructor(\n    private authService: AuthService,\n    private userService: UserService,\n    private router: Router\n  ) {}\n\n  ngOnInit(): void {\n    const idParam = new HttpParams().set('_id', this.authService.getUser()._id);\n    this.isLoading = true;\n\n    this.userService\n      .getUsers(idParam)\n      .pipe(delay(1500), takeUntil(this.unsubscribe))\n      .subscribe((user) => {\n        this.user = user[0] || null;\n        this.isLoading = false;\n        this.userService.userPropertiesChanged$.next(user[0]);\n\n        /** #TODO - User save to localStorage on change */\n        this.authService.setUser(user[0]);\n      });\n\n    /** Possible memory leak */\n    this.router.events\n      .pipe(\n        filter(\n          (event) =>\n            event instanceof NavigationStart && !event.url.includes('favourite')\n        )\n      )\n      .subscribe((redirect) => {\n        if (redirect) {\n          this.removeProducts();\n        }\n      });\n  }\n\n  removeProduct(index: number) {\n    const removedProduct = this.user.favouriteProducts[index];\n    this.productsToRemove.push(removedProduct);\n    this.user.favouriteProducts.splice(index, 1);\n\n    timer(7000)\n      .pipe(\n        mergeMap(() => {\n          if (\n            this.productsToRemove.find(\n              (product) => product._id === removedProduct._id\n            )\n          ) {\n            return this.userService.patchUser(this.user._id, { ...this.user });\n          }\n\n          return of(null);\n        }),\n        takeUntil(this.unsubscribe)\n      )\n      .subscribe((user) => {\n        if (user && this.productsToRemove.length > 0) {\n          this.productsToRemove.shift();\n          this.user = user;\n          this.authService.setUser(user);\n          this.userService.userPropertiesChanged$.next(user);\n        }\n      });\n  }\n\n  removeProducts() {\n    this.userService\n      .patchUser(this.user._id, { ...this.user })\n      .subscribe((user) => {\n        this.user = user;\n        this.authService.setUser(user);\n        this.userService.userPropertiesChanged$.next(user);\n      });\n  }\n\n  returnProductBack(index: number): void {\n    const removedProduct = this.productsToRemove[index];\n\n    this.productsToRemove.splice(index, 1);\n    this.user.favouriteProducts.splice(index, 0, removedProduct);\n  }\n\n  showProductDetail(index: number): void {\n    this.router.navigate([\n      `/products/${this.user.favouriteProducts[index]._id}`,\n    ]);\n  }\n\n  returnToProducts(): void {\n    this.router.navigate(['/products']);\n  }\n\n  cycleFor(range: number): number[] {\n    return Array(range).map((x, i) => i);\n  }\n\n  ngOnDestroy(): void {\n    this.unsubscribe.next();\n    this.unsubscribe.complete();\n  }\n}\n","<div fxLayout=\"column\" class=\"main-content\">\n  <estudy-ui-header></estudy-ui-header>\n  <div class=\"body\" fxLayout=\"column\" fxLayoutGap=\"20px\">\n    <div\n      class=\"title\"\n      fxLayout=\"column\"\n      fxLayoutAlign=\"center center\"\n      fxLayoutGap=\"5px\"\n    >\n      <h1>Tv oblben produkty <i class=\"fas fa-heart\"></i></h1>\n      <h1><b>Kliknutm na produkt</b> si zobrazte podrobnosti</h1>\n    </div>\n    <ng-container *ngIf=\"!isLoading; else ghostLoading\">\n      <ng-container *ngIf=\"user.favouriteProducts.length > 0; else noProducts\">\n        <ng-container\n          *ngFor=\"let product of user.favouriteProducts; let i = index\"\n        >\n          <mat-card\n            class=\"favourite-item\"\n            fxLayout=\"row\"\n            fxLayoutAlign=\"space-between center\"\n            (click)=\"showProductDetail(i)\"\n          >\n            <div\n              fxFlex=\"1 1 80%\"\n              fxLayout=\"row\"\n              fxLayoutAlign=\"start center\"\n              fxLayoutGap=\"30px\"\n            >\n              <img [src]=\"product.images[0]\" width=\"90px\" />\n              <div class=\"favourite-item__title\">\n                <b>{{ product.title }}</b> - {{ product.description }}\n              </div>\n            </div>\n            <div>&nbsp;</div>\n            <div\n              class=\"favourite-item__delete-button\"\n              (click)=\"removeProduct(i)\"\n            >\n              <i class=\"fas fa-times\"></i>\n            </div>\n          </mat-card>\n        </ng-container>\n      </ng-container>\n    </ng-container>\n\n    <div class=\"notifications\" fxLayout=\"column-reverse\" fxLayoutGap=\"10px\">\n      <mat-card\n        class=\"return-card\"\n        fxLayout=\"row\"\n        fxLayoutAlign=\"space-between center\"\n        [@fadeOut]\n        *ngFor=\"let notification of productsToRemove; let i = index\"\n      >\n        <i class=\"fas fa-info-circle\"></i>\n        <div fxFlex=\"1 1 280px\" class=\"return-card__text\">\n          Chcete vrtit {{ notification.title }} zpt ?\n        </div>\n        <button mat-flat-button (click)=\"returnProductBack(i)\">Vrtit</button>\n      </mat-card>\n    </div>\n  </div>\n  <estudy-ui-footer></estudy-ui-footer>\n</div>\n\n<ng-template #ghostLoading>\n  <ng-container *ngFor=\"let index of cycleFor(4)\">\n    <div\n      class=\"favourite-item__ghost-loading\"\n      fxLayout=\"row\"\n      fxLayoutAlign=\"space-between center\"\n    >\n      <div\n        fxFlex=\"1 1 80%\"\n        fxFlex.xs=\"1 1 70%\"\n        fxLayout=\"row\"\n        fxLayoutAlign=\"start center\"\n        fxLayoutGap=\"30px\"\n      >\n        <div>&nbsp;</div>\n        <div>&nbsp;</div>\n      </div>\n      <div fxFlex=\"1 1 3%\" fxFlex.xs=\"1 1 9%\">&nbsp;</div>\n    </div>\n  </ng-container>\n</ng-template>\n\n<ng-template #noProducts>\n  <h1 class=\"no-products\">\n    Zatm nemte <b>dn produkty</b> v seznamu oblbench,\n    <b (click)=\"returnToProducts()\">vrtit se a pokraovat v heldn</b>\n  </h1>\n</ng-template>\n","import { Overlay, OverlayModule } from '@angular/cdk/overlay';\nimport { AriaDescriber, FocusMonitor, A11yModule } from '@angular/cdk/a11y';\nimport { DOCUMENT, CommonModule } from '@angular/common';\nimport { InjectionToken, Directive, ElementRef, ViewContainerRef, NgZone, Inject, Optional, Input, Component, ViewEncapsulation, ChangeDetectionStrategy, ChangeDetectorRef, NgModule } from '@angular/core';\nimport { MatCommonModule } from '@angular/material/core';\nimport { ScrollDispatcher, CdkScrollableModule } from '@angular/cdk/scrolling';\nimport { Directionality } from '@angular/cdk/bidi';\nimport { coerceBooleanProperty } from '@angular/cdk/coercion';\nimport { ESCAPE, hasModifierKey } from '@angular/cdk/keycodes';\nimport { Breakpoints, BreakpointObserver } from '@angular/cdk/layout';\nimport { normalizePassiveListenerOptions, Platform } from '@angular/cdk/platform';\nimport { ComponentPortal } from '@angular/cdk/portal';\nimport { Subject } from 'rxjs';\nimport { takeUntil, take } from 'rxjs/operators';\nimport { trigger, state, style, transition, animate, keyframes } from '@angular/animations';\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * Animations used by MatTooltip.\n * @docs-private\n */\nimport * as ngcc0 from '@angular/core';\nimport * as ngcc1 from '@angular/cdk/overlay';\nimport * as ngcc2 from '@angular/cdk/scrolling';\nimport * as ngcc3 from '@angular/cdk/platform';\nimport * as ngcc4 from '@angular/cdk/a11y';\nimport * as ngcc5 from '@angular/cdk/bidi';\nimport * as ngcc6 from '@angular/cdk/layout';\nimport * as ngcc7 from '@angular/common';\nconst matTooltipAnimations = {\n    /** Animation that transitions a tooltip in and out. */\n    tooltipState: trigger('state', [\n        state('initial, void, hidden', style({ opacity: 0, transform: 'scale(0)' })),\n        state('visible', style({ transform: 'scale(1)' })),\n        transition('* => visible', animate('200ms cubic-bezier(0, 0, 0.2, 1)', keyframes([\n            style({ opacity: 0, transform: 'scale(0)', offset: 0 }),\n            style({ opacity: 0.5, transform: 'scale(0.99)', offset: 0.5 }),\n            style({ opacity: 1, transform: 'scale(1)', offset: 1 })\n        ]))),\n        transition('* => hidden', animate('100ms cubic-bezier(0, 0, 0.2, 1)', style({ opacity: 0 }))),\n    ])\n};\n\n/** Time in ms to throttle repositioning after scroll events. */\nconst SCROLL_THROTTLE_MS = 20;\n/** CSS class that will be attached to the overlay panel. */\nconst TOOLTIP_PANEL_CLASS = 'mat-tooltip-panel';\n/** Options used to bind passive event listeners. */\nconst passiveListenerOptions = normalizePassiveListenerOptions({ passive: true });\n/**\n * Time between the user putting the pointer on a tooltip\n * trigger and the long press event being fired.\n */\nconst LONGPRESS_DELAY = 500;\n/**\n * Creates an error to be thrown if the user supplied an invalid tooltip position.\n * @docs-private\n */\nfunction getMatTooltipInvalidPositionError(position) {\n    return Error(`Tooltip position \"${position}\" is invalid.`);\n}\n/** Injection token that determines the scroll handling while a tooltip is visible. */\nconst MAT_TOOLTIP_SCROLL_STRATEGY = new InjectionToken('mat-tooltip-scroll-strategy');\n/** @docs-private */\nfunction MAT_TOOLTIP_SCROLL_STRATEGY_FACTORY(overlay) {\n    return () => overlay.scrollStrategies.reposition({ scrollThrottle: SCROLL_THROTTLE_MS });\n}\n/** @docs-private */\nconst MAT_TOOLTIP_SCROLL_STRATEGY_FACTORY_PROVIDER = {\n    provide: MAT_TOOLTIP_SCROLL_STRATEGY,\n    deps: [Overlay],\n    useFactory: MAT_TOOLTIP_SCROLL_STRATEGY_FACTORY,\n};\n/** Injection token to be used to override the default options for `matTooltip`. */\nconst MAT_TOOLTIP_DEFAULT_OPTIONS = new InjectionToken('mat-tooltip-default-options', {\n    providedIn: 'root',\n    factory: MAT_TOOLTIP_DEFAULT_OPTIONS_FACTORY\n});\n/** @docs-private */\nfunction MAT_TOOLTIP_DEFAULT_OPTIONS_FACTORY() {\n    return {\n        showDelay: 0,\n        hideDelay: 0,\n        touchendHideDelay: 1500,\n    };\n}\n/**\n * Directive that attaches a material design tooltip to the host element. Animates the showing and\n * hiding of a tooltip provided position (defaults to below the element).\n *\n * https://material.io/design/components/tooltips.html\n */\nclass MatTooltip {\n    constructor(_overlay, _elementRef, _scrollDispatcher, _viewContainerRef, _ngZone, _platform, _ariaDescriber, _focusMonitor, scrollStrategy, _dir, _defaultOptions, \n    /** @breaking-change 11.0.0 _document argument to become required. */\n    _document) {\n        this._overlay = _overlay;\n        this._elementRef = _elementRef;\n        this._scrollDispatcher = _scrollDispatcher;\n        this._viewContainerRef = _viewContainerRef;\n        this._ngZone = _ngZone;\n        this._platform = _platform;\n        this._ariaDescriber = _ariaDescriber;\n        this._focusMonitor = _focusMonitor;\n        this._dir = _dir;\n        this._defaultOptions = _defaultOptions;\n        this._position = 'below';\n        this._disabled = false;\n        this._viewInitialized = false;\n        this._pointerExitEventsInitialized = false;\n        /** The default delay in ms before showing the tooltip after show is called */\n        this.showDelay = this._defaultOptions.showDelay;\n        /** The default delay in ms before hiding the tooltip after hide is called */\n        this.hideDelay = this._defaultOptions.hideDelay;\n        /**\n         * How touch gestures should be handled by the tooltip. On touch devices the tooltip directive\n         * uses a long press gesture to show and hide, however it can conflict with the native browser\n         * gestures. To work around the conflict, Angular Material disables native gestures on the\n         * trigger, but that might not be desirable on particular elements (e.g. inputs and draggable\n         * elements). The different values for this option configure the touch event handling as follows:\n         * - `auto` - Enables touch gestures for all elements, but tries to avoid conflicts with native\n         *   browser gestures on particular elements. In particular, it allows text selection on inputs\n         *   and textareas, and preserves the native browser dragging on elements marked as `draggable`.\n         * - `on` - Enables touch gestures for all elements and disables native\n         *   browser gestures with no exceptions.\n         * - `off` - Disables touch gestures. Note that this will prevent the tooltip from\n         *   showing on touch devices.\n         */\n        this.touchGestures = 'auto';\n        this._message = '';\n        /** Manually-bound passive event listeners. */\n        this._passiveListeners = [];\n        /** Emits when the component is destroyed. */\n        this._destroyed = new Subject();\n        /**\n         * Handles the keydown events on the host element.\n         * Needs to be an arrow function so that we can use it in addEventListener.\n         */\n        this._handleKeydown = (event) => {\n            if (this._isTooltipVisible() && event.keyCode === ESCAPE && !hasModifierKey(event)) {\n                event.preventDefault();\n                event.stopPropagation();\n                this._ngZone.run(() => this.hide(0));\n            }\n        };\n        this._scrollStrategy = scrollStrategy;\n        if (_defaultOptions) {\n            if (_defaultOptions.position) {\n                this.position = _defaultOptions.position;\n            }\n            if (_defaultOptions.touchGestures) {\n                this.touchGestures = _defaultOptions.touchGestures;\n            }\n        }\n        _ngZone.runOutsideAngular(() => {\n            _elementRef.nativeElement.addEventListener('keydown', this._handleKeydown);\n        });\n    }\n    /** Allows the user to define the position of the tooltip relative to the parent element */\n    get position() { return this._position; }\n    set position(value) {\n        if (value !== this._position) {\n            this._position = value;\n            if (this._overlayRef) {\n                this._updatePosition();\n                if (this._tooltipInstance) {\n                    this._tooltipInstance.show(0);\n                }\n                this._overlayRef.updatePosition();\n            }\n        }\n    }\n    /** Disables the display of the tooltip. */\n    get disabled() { return this._disabled; }\n    set disabled(value) {\n        this._disabled = coerceBooleanProperty(value);\n        // If tooltip is disabled, hide immediately.\n        if (this._disabled) {\n            this.hide(0);\n        }\n        else {\n            this._setupPointerEnterEventsIfNeeded();\n        }\n    }\n    /** The message to be displayed in the tooltip */\n    get message() { return this._message; }\n    set message(value) {\n        this._ariaDescriber.removeDescription(this._elementRef.nativeElement, this._message, 'tooltip');\n        // If the message is not a string (e.g. number), convert it to a string and trim it.\n        // Must convert with `String(value)`, not `${value}`, otherwise Closure Compiler optimises\n        // away the string-conversion: https://github.com/angular/components/issues/20684\n        this._message = value != null ? String(value).trim() : '';\n        if (!this._message && this._isTooltipVisible()) {\n            this.hide(0);\n        }\n        else {\n            this._setupPointerEnterEventsIfNeeded();\n            this._updateTooltipMessage();\n            this._ngZone.runOutsideAngular(() => {\n                // The `AriaDescriber` has some functionality that avoids adding a description if it's the\n                // same as the `aria-label` of an element, however we can't know whether the tooltip trigger\n                // has a data-bound `aria-label` or when it'll be set for the first time. We can avoid the\n                // issue by deferring the description by a tick so Angular has time to set the `aria-label`.\n                Promise.resolve().then(() => {\n                    this._ariaDescriber.describe(this._elementRef.nativeElement, this.message, 'tooltip');\n                });\n            });\n        }\n    }\n    /** Classes to be passed to the tooltip. Supports the same syntax as `ngClass`. */\n    get tooltipClass() { return this._tooltipClass; }\n    set tooltipClass(value) {\n        this._tooltipClass = value;\n        if (this._tooltipInstance) {\n            this._setTooltipClass(this._tooltipClass);\n        }\n    }\n    ngAfterViewInit() {\n        // This needs to happen after view init so the initial values for all inputs have been set.\n        this._viewInitialized = true;\n        this._setupPointerEnterEventsIfNeeded();\n        this._focusMonitor.monitor(this._elementRef)\n            .pipe(takeUntil(this._destroyed))\n            .subscribe(origin => {\n            // Note that the focus monitor runs outside the Angular zone.\n            if (!origin) {\n                this._ngZone.run(() => this.hide(0));\n            }\n            else if (origin === 'keyboard') {\n                this._ngZone.run(() => this.show());\n            }\n        });\n    }\n    /**\n     * Dispose the tooltip when destroyed.\n     */\n    ngOnDestroy() {\n        const nativeElement = this._elementRef.nativeElement;\n        clearTimeout(this._touchstartTimeout);\n        if (this._overlayRef) {\n            this._overlayRef.dispose();\n            this._tooltipInstance = null;\n        }\n        // Clean up the event listeners set in the constructor\n        nativeElement.removeEventListener('keydown', this._handleKeydown);\n        this._passiveListeners.forEach(([event, listener]) => {\n            nativeElement.removeEventListener(event, listener, passiveListenerOptions);\n        });\n        this._passiveListeners.length = 0;\n        this._destroyed.next();\n        this._destroyed.complete();\n        this._ariaDescriber.removeDescription(nativeElement, this.message, 'tooltip');\n        this._focusMonitor.stopMonitoring(nativeElement);\n    }\n    /** Shows the tooltip after the delay in ms, defaults to tooltip-delay-show or 0ms if no input */\n    show(delay = this.showDelay) {\n        if (this.disabled || !this.message || (this._isTooltipVisible() &&\n            !this._tooltipInstance._showTimeoutId && !this._tooltipInstance._hideTimeoutId)) {\n            return;\n        }\n        const overlayRef = this._createOverlay();\n        this._detach();\n        this._portal = this._portal || new ComponentPortal(TooltipComponent, this._viewContainerRef);\n        this._tooltipInstance = overlayRef.attach(this._portal).instance;\n        this._tooltipInstance.afterHidden()\n            .pipe(takeUntil(this._destroyed))\n            .subscribe(() => this._detach());\n        this._setTooltipClass(this._tooltipClass);\n        this._updateTooltipMessage();\n        this._tooltipInstance.show(delay);\n    }\n    /** Hides the tooltip after the delay in ms, defaults to tooltip-delay-hide or 0ms if no input */\n    hide(delay = this.hideDelay) {\n        if (this._tooltipInstance) {\n            this._tooltipInstance.hide(delay);\n        }\n    }\n    /** Shows/hides the tooltip */\n    toggle() {\n        this._isTooltipVisible() ? this.hide() : this.show();\n    }\n    /** Returns true if the tooltip is currently visible to the user */\n    _isTooltipVisible() {\n        return !!this._tooltipInstance && this._tooltipInstance.isVisible();\n    }\n    /** Create the overlay config and position strategy */\n    _createOverlay() {\n        if (this._overlayRef) {\n            return this._overlayRef;\n        }\n        const scrollableAncestors = this._scrollDispatcher.getAncestorScrollContainers(this._elementRef);\n        // Create connected position strategy that listens for scroll events to reposition.\n        const strategy = this._overlay.position()\n            .flexibleConnectedTo(this._elementRef)\n            .withTransformOriginOn('.mat-tooltip')\n            .withFlexibleDimensions(false)\n            .withViewportMargin(8)\n            .withScrollableContainers(scrollableAncestors);\n        strategy.positionChanges.pipe(takeUntil(this._destroyed)).subscribe(change => {\n            if (this._tooltipInstance) {\n                if (change.scrollableViewProperties.isOverlayClipped && this._tooltipInstance.isVisible()) {\n                    // After position changes occur and the overlay is clipped by\n                    // a parent scrollable then close the tooltip.\n                    this._ngZone.run(() => this.hide(0));\n                }\n            }\n        });\n        this._overlayRef = this._overlay.create({\n            direction: this._dir,\n            positionStrategy: strategy,\n            panelClass: TOOLTIP_PANEL_CLASS,\n            scrollStrategy: this._scrollStrategy()\n        });\n        this._updatePosition();\n        this._overlayRef.detachments()\n            .pipe(takeUntil(this._destroyed))\n            .subscribe(() => this._detach());\n        return this._overlayRef;\n    }\n    /** Detaches the currently-attached tooltip. */\n    _detach() {\n        if (this._overlayRef && this._overlayRef.hasAttached()) {\n            this._overlayRef.detach();\n        }\n        this._tooltipInstance = null;\n    }\n    /** Updates the position of the current tooltip. */\n    _updatePosition() {\n        const position = this._overlayRef.getConfig().positionStrategy;\n        const origin = this._getOrigin();\n        const overlay = this._getOverlayPosition();\n        position.withPositions([\n            Object.assign(Object.assign({}, origin.main), overlay.main),\n            Object.assign(Object.assign({}, origin.fallback), overlay.fallback)\n        ]);\n    }\n    /**\n     * Returns the origin position and a fallback position based on the user's position preference.\n     * The fallback position is the inverse of the origin (e.g. `'below' -> 'above'`).\n     */\n    _getOrigin() {\n        const isLtr = !this._dir || this._dir.value == 'ltr';\n        const position = this.position;\n        let originPosition;\n        if (position == 'above' || position == 'below') {\n            originPosition = { originX: 'center', originY: position == 'above' ? 'top' : 'bottom' };\n        }\n        else if (position == 'before' ||\n            (position == 'left' && isLtr) ||\n            (position == 'right' && !isLtr)) {\n            originPosition = { originX: 'start', originY: 'center' };\n        }\n        else if (position == 'after' ||\n            (position == 'right' && isLtr) ||\n            (position == 'left' && !isLtr)) {\n            originPosition = { originX: 'end', originY: 'center' };\n        }\n        else if (typeof ngDevMode === 'undefined' || ngDevMode) {\n            throw getMatTooltipInvalidPositionError(position);\n        }\n        const { x, y } = this._invertPosition(originPosition.originX, originPosition.originY);\n        return {\n            main: originPosition,\n            fallback: { originX: x, originY: y }\n        };\n    }\n    /** Returns the overlay position and a fallback position based on the user's preference */\n    _getOverlayPosition() {\n        const isLtr = !this._dir || this._dir.value == 'ltr';\n        const position = this.position;\n        let overlayPosition;\n        if (position == 'above') {\n            overlayPosition = { overlayX: 'center', overlayY: 'bottom' };\n        }\n        else if (position == 'below') {\n            overlayPosition = { overlayX: 'center', overlayY: 'top' };\n        }\n        else if (position == 'before' ||\n            (position == 'left' && isLtr) ||\n            (position == 'right' && !isLtr)) {\n            overlayPosition = { overlayX: 'end', overlayY: 'center' };\n        }\n        else if (position == 'after' ||\n            (position == 'right' && isLtr) ||\n            (position == 'left' && !isLtr)) {\n            overlayPosition = { overlayX: 'start', overlayY: 'center' };\n        }\n        else if (typeof ngDevMode === 'undefined' || ngDevMode) {\n            throw getMatTooltipInvalidPositionError(position);\n        }\n        const { x, y } = this._invertPosition(overlayPosition.overlayX, overlayPosition.overlayY);\n        return {\n            main: overlayPosition,\n            fallback: { overlayX: x, overlayY: y }\n        };\n    }\n    /** Updates the tooltip message and repositions the overlay according to the new message length */\n    _updateTooltipMessage() {\n        // Must wait for the message to be painted to the tooltip so that the overlay can properly\n        // calculate the correct positioning based on the size of the text.\n        if (this._tooltipInstance) {\n            this._tooltipInstance.message = this.message;\n            this._tooltipInstance._markForCheck();\n            this._ngZone.onMicrotaskEmpty.pipe(take(1), takeUntil(this._destroyed)).subscribe(() => {\n                if (this._tooltipInstance) {\n                    this._overlayRef.updatePosition();\n                }\n            });\n        }\n    }\n    /** Updates the tooltip class */\n    _setTooltipClass(tooltipClass) {\n        if (this._tooltipInstance) {\n            this._tooltipInstance.tooltipClass = tooltipClass;\n            this._tooltipInstance._markForCheck();\n        }\n    }\n    /** Inverts an overlay position. */\n    _invertPosition(x, y) {\n        if (this.position === 'above' || this.position === 'below') {\n            if (y === 'top') {\n                y = 'bottom';\n            }\n            else if (y === 'bottom') {\n                y = 'top';\n            }\n        }\n        else {\n            if (x === 'end') {\n                x = 'start';\n            }\n            else if (x === 'start') {\n                x = 'end';\n            }\n        }\n        return { x, y };\n    }\n    /** Binds the pointer events to the tooltip trigger. */\n    _setupPointerEnterEventsIfNeeded() {\n        // Optimization: Defer hooking up events if there's no message or the tooltip is disabled.\n        if (this._disabled || !this.message || !this._viewInitialized ||\n            this._passiveListeners.length) {\n            return;\n        }\n        // The mouse events shouldn't be bound on mobile devices, because they can prevent the\n        // first tap from firing its click event or can cause the tooltip to open for clicks.\n        if (this._platformSupportsMouseEvents()) {\n            this._passiveListeners\n                .push(['mouseenter', () => {\n                    this._setupPointerExitEventsIfNeeded();\n                    this.show();\n                }]);\n        }\n        else if (this.touchGestures !== 'off') {\n            this._disableNativeGesturesIfNecessary();\n            this._passiveListeners\n                .push(['touchstart', () => {\n                    // Note that it's important that we don't `preventDefault` here,\n                    // because it can prevent click events from firing on the element.\n                    this._setupPointerExitEventsIfNeeded();\n                    clearTimeout(this._touchstartTimeout);\n                    this._touchstartTimeout = setTimeout(() => this.show(), LONGPRESS_DELAY);\n                }]);\n        }\n        this._addListeners(this._passiveListeners);\n    }\n    _setupPointerExitEventsIfNeeded() {\n        if (this._pointerExitEventsInitialized) {\n            return;\n        }\n        this._pointerExitEventsInitialized = true;\n        const exitListeners = [];\n        if (this._platformSupportsMouseEvents()) {\n            exitListeners.push(['mouseleave', () => this.hide()], ['wheel', event => this._wheelListener(event)]);\n        }\n        else if (this.touchGestures !== 'off') {\n            this._disableNativeGesturesIfNecessary();\n            const touchendListener = () => {\n                clearTimeout(this._touchstartTimeout);\n                this.hide(this._defaultOptions.touchendHideDelay);\n            };\n            exitListeners.push(['touchend', touchendListener], ['touchcancel', touchendListener]);\n        }\n        this._addListeners(exitListeners);\n        this._passiveListeners.push(...exitListeners);\n    }\n    _addListeners(listeners) {\n        listeners.forEach(([event, listener]) => {\n            this._elementRef.nativeElement.addEventListener(event, listener, passiveListenerOptions);\n        });\n    }\n    _platformSupportsMouseEvents() {\n        return !this._platform.IOS && !this._platform.ANDROID;\n    }\n    /** Listener for the `wheel` event on the element. */\n    _wheelListener(event) {\n        if (this._isTooltipVisible()) {\n            // @breaking-change 11.0.0 Remove `|| document` once the document is a required param.\n            const doc = this._document || document;\n            const elementUnderPointer = doc.elementFromPoint(event.clientX, event.clientY);\n            const element = this._elementRef.nativeElement;\n            // On non-touch devices we depend on the `mouseleave` event to close the tooltip, but it\n            // won't fire if the user scrolls away using the wheel without moving their cursor. We\n            // work around it by finding the element under the user's cursor and closing the tooltip\n            // if it's not the trigger.\n            if (elementUnderPointer !== element && !element.contains(elementUnderPointer)) {\n                this.hide();\n            }\n        }\n    }\n    /** Disables the native browser gestures, based on how the tooltip has been configured. */\n    _disableNativeGesturesIfNecessary() {\n        const gestures = this.touchGestures;\n        if (gestures !== 'off') {\n            const element = this._elementRef.nativeElement;\n            const style = element.style;\n            // If gestures are set to `auto`, we don't disable text selection on inputs and\n            // textareas, because it prevents the user from typing into them on iOS Safari.\n            if (gestures === 'on' || (element.nodeName !== 'INPUT' && element.nodeName !== 'TEXTAREA')) {\n                style.userSelect = style.msUserSelect = style.webkitUserSelect =\n                    style.MozUserSelect = 'none';\n            }\n            // If we have `auto` gestures and the element uses native HTML dragging,\n            // we don't set `-webkit-user-drag` because it prevents the native behavior.\n            if (gestures === 'on' || !element.draggable) {\n                style.webkitUserDrag = 'none';\n            }\n            style.touchAction = 'none';\n            style.webkitTapHighlightColor = 'transparent';\n        }\n    }\n}\nMatTooltip.fac = function MatTooltip_Factory(t) { return new (t || MatTooltip)(ngcc0.directiveInject(ngcc1.Overlay), ngcc0.directiveInject(ngcc0.ElementRef), ngcc0.directiveInject(ngcc2.ScrollDispatcher), ngcc0.directiveInject(ngcc0.ViewContainerRef), ngcc0.directiveInject(ngcc0.NgZone), ngcc0.directiveInject(ngcc3.Platform), ngcc0.directiveInject(ngcc4.AriaDescriber), ngcc0.directiveInject(ngcc4.FocusMonitor), ngcc0.directiveInject(MAT_TOOLTIP_SCROLL_STRATEGY), ngcc0.directiveInject(ngcc5.Directionality, 8), ngcc0.directiveInject(MAT_TOOLTIP_DEFAULT_OPTIONS, 8), ngcc0.directiveInject(DOCUMENT)); };\nMatTooltip.dir = ngcc0.defineDirective({ type: MatTooltip, selectors: [[\"\", \"matTooltip\", \"\"]], hostAttrs: [1, \"mat-tooltip-trigger\"], inputs: { showDelay: [\"matTooltipShowDelay\", \"showDelay\"], hideDelay: [\"matTooltipHideDelay\", \"hideDelay\"], touchGestures: [\"matTooltipTouchGestures\", \"touchGestures\"], position: [\"matTooltipPosition\", \"position\"], disabled: [\"matTooltipDisabled\", \"disabled\"], message: [\"matTooltip\", \"message\"], tooltipClass: [\"matTooltipClass\", \"tooltipClass\"] }, exportAs: [\"matTooltip\"] });\nMatTooltip.ctorParameters = () => [\n    { type: Overlay },\n    { type: ElementRef },\n    { type: ScrollDispatcher },\n    { type: ViewContainerRef },\n    { type: NgZone },\n    { type: Platform },\n    { type: AriaDescriber },\n    { type: FocusMonitor },\n    { type: undefined, decorators: [{ type: Inject, args: [MAT_TOOLTIP_SCROLL_STRATEGY,] }] },\n    { type: Directionality, decorators: [{ type: Optional }] },\n    { type: undefined, decorators: [{ type: Optional }, { type: Inject, args: [MAT_TOOLTIP_DEFAULT_OPTIONS,] }] },\n    { type: undefined, decorators: [{ type: Inject, args: [DOCUMENT,] }] }\n];\nMatTooltip.propDecorators = {\n    position: [{ type: Input, args: ['matTooltipPosition',] }],\n    disabled: [{ type: Input, args: ['matTooltipDisabled',] }],\n    showDelay: [{ type: Input, args: ['matTooltipShowDelay',] }],\n    hideDelay: [{ type: Input, args: ['matTooltipHideDelay',] }],\n    touchGestures: [{ type: Input, args: ['matTooltipTouchGestures',] }],\n    message: [{ type: Input, args: ['matTooltip',] }],\n    tooltipClass: [{ type: Input, args: ['matTooltipClass',] }]\n};\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ngcc0.setClassMetadata(MatTooltip, [{\n        type: Directive,\n        args: [{\n                selector: '[matTooltip]',\n                exportAs: 'matTooltip',\n                host: {\n                    'class': 'mat-tooltip-trigger'\n                }\n            }]\n    }], function () { return [{ type: ngcc1.Overlay }, { type: ngcc0.ElementRef }, { type: ngcc2.ScrollDispatcher }, { type: ngcc0.ViewContainerRef }, { type: ngcc0.NgZone }, { type: ngcc3.Platform }, { type: ngcc4.AriaDescriber }, { type: ngcc4.FocusMonitor }, { type: undefined, decorators: [{\n                type: Inject,\n                args: [MAT_TOOLTIP_SCROLL_STRATEGY]\n            }] }, { type: ngcc5.Directionality, decorators: [{\n                type: Optional\n            }] }, { type: undefined, decorators: [{\n                type: Optional\n            }, {\n                type: Inject,\n                args: [MAT_TOOLTIP_DEFAULT_OPTIONS]\n            }] }, { type: undefined, decorators: [{\n                type: Inject,\n                args: [DOCUMENT]\n            }] }]; }, { showDelay: [{\n            type: Input,\n            args: ['matTooltipShowDelay']\n        }], hideDelay: [{\n            type: Input,\n            args: ['matTooltipHideDelay']\n        }], touchGestures: [{\n            type: Input,\n            args: ['matTooltipTouchGestures']\n        }], position: [{\n            type: Input,\n            args: ['matTooltipPosition']\n        }], disabled: [{\n            type: Input,\n            args: ['matTooltipDisabled']\n        }], message: [{\n            type: Input,\n            args: ['matTooltip']\n        }], tooltipClass: [{\n            type: Input,\n            args: ['matTooltipClass']\n        }] }); })();\n/**\n * Internal component that wraps the tooltip's content.\n * @docs-private\n */\nclass TooltipComponent {\n    constructor(_changeDetectorRef, _breakpointObserver) {\n        this._changeDetectorRef = _changeDetectorRef;\n        this._breakpointObserver = _breakpointObserver;\n        /** Property watched by the animation framework to show or hide the tooltip */\n        this._visibility = 'initial';\n        /** Whether interactions on the page should close the tooltip */\n        this._closeOnInteraction = false;\n        /** Subject for notifying that the tooltip has been hidden from the view */\n        this._onHide = new Subject();\n        /** Stream that emits whether the user has a handset-sized display.  */\n        this._isHandset = this._breakpointObserver.observe(Breakpoints.Handset);\n    }\n    /**\n     * Shows the tooltip with an animation originating from the provided origin\n     * @param delay Amount of milliseconds to the delay showing the tooltip.\n     */\n    show(delay) {\n        // Cancel the delayed hide if it is scheduled\n        if (this._hideTimeoutId) {\n            clearTimeout(this._hideTimeoutId);\n            this._hideTimeoutId = null;\n        }\n        // Body interactions should cancel the tooltip if there is a delay in showing.\n        this._closeOnInteraction = true;\n        this._showTimeoutId = setTimeout(() => {\n            this._visibility = 'visible';\n            this._showTimeoutId = null;\n            // Mark for check so if any parent component has set the\n            // ChangeDetectionStrategy to OnPush it will be checked anyways\n            this._markForCheck();\n        }, delay);\n    }\n    /**\n     * Begins the animation to hide the tooltip after the provided delay in ms.\n     * @param delay Amount of milliseconds to delay showing the tooltip.\n     */\n    hide(delay) {\n        // Cancel the delayed show if it is scheduled\n        if (this._showTimeoutId) {\n            clearTimeout(this._showTimeoutId);\n            this._showTimeoutId = null;\n        }\n        this._hideTimeoutId = setTimeout(() => {\n            this._visibility = 'hidden';\n            this._hideTimeoutId = null;\n            // Mark for check so if any parent component has set the\n            // ChangeDetectionStrategy to OnPush it will be checked anyways\n            this._markForCheck();\n        }, delay);\n    }\n    /** Returns an observable that notifies when the tooltip has been hidden from view. */\n    afterHidden() {\n        return this._onHide;\n    }\n    /** Whether the tooltip is being displayed. */\n    isVisible() {\n        return this._visibility === 'visible';\n    }\n    ngOnDestroy() {\n        this._onHide.complete();\n    }\n    _animationStart() {\n        this._closeOnInteraction = false;\n    }\n    _animationDone(event) {\n        const toState = event.toState;\n        if (toState === 'hidden' && !this.isVisible()) {\n            this._onHide.next();\n        }\n        if (toState === 'visible' || toState === 'hidden') {\n            this._closeOnInteraction = true;\n        }\n    }\n    /**\n     * Interactions on the HTML body should close the tooltip immediately as defined in the\n     * material design spec.\n     * https://material.io/design/components/tooltips.html#behavior\n     */\n    _handleBodyInteraction() {\n        if (this._closeOnInteraction) {\n            this.hide(0);\n        }\n    }\n    /**\n     * Marks that the tooltip needs to be checked in the next change detection run.\n     * Mainly used for rendering the initial text before positioning a tooltip, which\n     * can be problematic in components with OnPush change detection.\n     */\n    _markForCheck() {\n        this._changeDetectorRef.markForCheck();\n    }\n}\nTooltipComponent.fac = function TooltipComponent_Factory(t) { return new (t || TooltipComponent)(ngcc0.directiveInject(ngcc0.ChangeDetectorRef), ngcc0.directiveInject(ngcc6.BreakpointObserver)); };\nTooltipComponent.cmp = ngcc0.defineComponent({ type: TooltipComponent, selectors: [[\"mat-tooltip-component\"]], hostAttrs: [\"aria-hidden\", \"true\"], hostVars: 2, hostBindings: function TooltipComponent_HostBindings(rf, ctx) { if (rf & 1) {\n        ngcc0.listener(\"click\", function TooltipComponent_click_HostBindingHandler() { return ctx._handleBodyInteraction(); }, false, ngcc0.resolveBody)(\"auxclick\", function TooltipComponent_auxclick_HostBindingHandler() { return ctx._handleBodyInteraction(); }, false, ngcc0.resolveBody);\n    } if (rf & 2) {\n        ngcc0.styleProp(\"zoom\", ctx._visibility === \"visible\" ? 1 : null);\n    } }, decls: 3, vars: 7, consts: [[1, \"mat-tooltip\", 3, \"ngClass\"]], template: function TooltipComponent_Template(rf, ctx) { if (rf & 1) {\n        ngcc0.elementStart(0, \"div\", 0);\n        ngcc0.listener(\"@state.start\", function TooltipComponent_Template_div_animation_state_start_0_listener() { return ctx._animationStart(); })(\"@state.done\", function TooltipComponent_Template_div_animation_state_done_0_listener($event) { return ctx._animationDone($event); });\n        ngcc0.pipe(1, \"async\");\n        ngcc0.text(2);\n        ngcc0.elementEnd();\n    } if (rf & 2) {\n        let tmp_0_0 = null;\n        ngcc0.classProp(\"mat-tooltip-handset\", (tmp_0_0 = ngcc0.pipeBind1(1, 5, ctx._isHandset)) == null ? null : tmp_0_0.matches);\n        ngcc0.property(\"ngClass\", ctx.tooltipClass)(\"@state\", ctx._visibility);\n        ngcc0.advance(2);\n        ngcc0.textInterpolate(ctx.message);\n    } }, directives: [ngcc7.NgClass], pipes: [ngcc7.AsyncPipe], styles: [\".mat-tooltip-panel{pointer-events:none !important}.mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}\\n\"], encapsulation: 2, data: { animation: [matTooltipAnimations.tooltipState] }, changeDetection: 0 });\nTooltipComponent.ctorParameters = () => [\n    { type: ChangeDetectorRef },\n    { type: BreakpointObserver }\n];\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ngcc0.setClassMetadata(TooltipComponent, [{\n        type: Component,\n        args: [{\n                selector: 'mat-tooltip-component',\n                template: \"<div class=\\\"mat-tooltip\\\"\\n     [ngClass]=\\\"tooltipClass\\\"\\n     [class.mat-tooltip-handset]=\\\"(_isHandset | async)?.matches\\\"\\n     [@state]=\\\"_visibility\\\"\\n     (@state.start)=\\\"_animationStart()\\\"\\n     (@state.done)=\\\"_animationDone($event)\\\">{{message}}</div>\\n\",\n                encapsulation: ViewEncapsulation.None,\n                changeDetection: ChangeDetectionStrategy.OnPush,\n                animations: [matTooltipAnimations.tooltipState],\n                host: {\n                    // Forces the element to have a layout in IE and Edge. This fixes issues where the element\n                    // won't be rendered if the animations are disabled or there is no web animations polyfill.\n                    '[style.zoom]': '_visibility === \"visible\" ? 1 : null',\n                    '(body:click)': 'this._handleBodyInteraction()',\n                    '(body:auxclick)': 'this._handleBodyInteraction()',\n                    'aria-hidden': 'true'\n                },\n                styles: [\".mat-tooltip-panel{pointer-events:none !important}.mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}\\n\"]\n            }]\n    }], function () { return [{ type: ngcc0.ChangeDetectorRef }, { type: ngcc6.BreakpointObserver }]; }, null); })();\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nclass MatTooltipModule {\n}\nMatTooltipModule.fac = function MatTooltipModule_Factory(t) { return new (t || MatTooltipModule)(); };\nMatTooltipModule.mod = ngcc0.defineNgModule({ type: MatTooltipModule });\nMatTooltipModule.inj = ngcc0.defineInjector({ providers: [MAT_TOOLTIP_SCROLL_STRATEGY_FACTORY_PROVIDER], imports: [[\n            A11yModule,\n            CommonModule,\n            OverlayModule,\n            MatCommonModule,\n        ], MatCommonModule, CdkScrollableModule] });\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ngcc0.setNgModuleScope(MatTooltipModule, { declarations: function () { return [MatTooltip, TooltipComponent]; }, imports: function () { return [A11yModule,\n        CommonModule,\n        OverlayModule,\n        MatCommonModule]; }, exports: function () { return [MatTooltip, TooltipComponent, MatCommonModule, CdkScrollableModule]; } }); })();\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ngcc0.setClassMetadata(MatTooltipModule, [{\n        type: NgModule,\n        args: [{\n                imports: [\n                    A11yModule,\n                    CommonModule,\n                    OverlayModule,\n                    MatCommonModule,\n                ],\n                exports: [MatTooltip, TooltipComponent, MatCommonModule, CdkScrollableModule],\n                declarations: [MatTooltip, TooltipComponent],\n                entryComponents: [TooltipComponent],\n                providers: [MAT_TOOLTIP_SCROLL_STRATEGY_FACTORY_PROVIDER]\n            }]\n    }], null, null); })();\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { MAT_TOOLTIP_DEFAULT_OPTIONS, MAT_TOOLTIP_DEFAULT_OPTIONS_FACTORY, MAT_TOOLTIP_SCROLL_STRATEGY, MAT_TOOLTIP_SCROLL_STRATEGY_FACTORY, MAT_TOOLTIP_SCROLL_STRATEGY_FACTORY_PROVIDER, MatTooltip, MatTooltipModule, SCROLL_THROTTLE_MS, TOOLTIP_PANEL_CLASS, TooltipComponent, getMatTooltipInvalidPositionError, matTooltipAnimations };\n\n//# sourceMappingURL=tooltip.js.map","import { FocusMonitor, FocusKeyManager, isFakeTouchstartFromScreenReader, isFakeMousedownFromScreenReader } from '@angular/cdk/a11y';\nimport { coerceBooleanProperty } from '@angular/cdk/coercion';\nimport { UP_ARROW, DOWN_ARROW, RIGHT_ARROW, LEFT_ARROW, ESCAPE, hasModifierKey, ENTER, SPACE } from '@angular/cdk/keycodes';\nimport { InjectionToken, Directive, TemplateRef, ComponentFactoryResolver, ApplicationRef, Injector, ViewContainerRef, Inject, ChangeDetectorRef, Component, ChangeDetectionStrategy, ViewEncapsulation, ElementRef, Optional, Input, HostListener, QueryList, EventEmitter, NgZone, ContentChildren, ViewChild, ContentChild, Output, Self, NgModule } from '@angular/core';\nimport { Subject, Subscription, merge, of, asapScheduler } from 'rxjs';\nimport { startWith, switchMap, take, filter, takeUntil, delay } from 'rxjs/operators';\nimport { trigger, state, style, transition, animate } from '@angular/animations';\nimport { TemplatePortal, DomPortalOutlet } from '@angular/cdk/portal';\nimport { DOCUMENT, CommonModule } from '@angular/common';\nimport { mixinDisableRipple, mixinDisabled, MatCommonModule, MatRippleModule } from '@angular/material/core';\nimport { Directionality } from '@angular/cdk/bidi';\nimport { Overlay, OverlayConfig, OverlayModule } from '@angular/cdk/overlay';\nimport { normalizePassiveListenerOptions } from '@angular/cdk/platform';\nimport { CdkScrollableModule } from '@angular/cdk/scrolling';\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * Animations used by the mat-menu component.\n * Animation duration and timing values are based on:\n * https://material.io/guidelines/components/menus.html#menus-usage\n * @docs-private\n */\nimport * as ngcc0 from '@angular/core';\nimport * as ngcc1 from '@angular/cdk/a11y';\nimport * as ngcc2 from '@angular/material/core';\nimport * as ngcc3 from '@angular/common';\nimport * as ngcc4 from '@angular/cdk/overlay';\nimport * as ngcc5 from '@angular/cdk/bidi';\n\nconst _c0 = [\"mat-menu-item\", \"\"];\nconst _c1 = [\"*\"];\nfunction MatMenu_ng_template_0_Template(rf, ctx) { if (rf & 1) {\n    const _r2 = ngcc0.getCurrentView();\n    ngcc0.elementStart(0, \"div\", 0);\n    ngcc0.listener(\"keydown\", function MatMenu_ng_template_0_Template_div_keydown_0_listener($event) { ngcc0.restoreView(_r2); const ctx_r1 = ngcc0.nextContext(); return ctx_r1._handleKeydown($event); })(\"click\", function MatMenu_ng_template_0_Template_div_click_0_listener() { ngcc0.restoreView(_r2); const ctx_r3 = ngcc0.nextContext(); return ctx_r3.closed.emit(\"click\"); })(\"@transformMenu.start\", function MatMenu_ng_template_0_Template_div_animation_transformMenu_start_0_listener($event) { ngcc0.restoreView(_r2); const ctx_r4 = ngcc0.nextContext(); return ctx_r4._onAnimationStart($event); })(\"@transformMenu.done\", function MatMenu_ng_template_0_Template_div_animation_transformMenu_done_0_listener($event) { ngcc0.restoreView(_r2); const ctx_r5 = ngcc0.nextContext(); return ctx_r5._onAnimationDone($event); });\n    ngcc0.elementStart(1, \"div\", 1);\n    ngcc0.projection(2);\n    ngcc0.elementEnd();\n    ngcc0.elementEnd();\n} if (rf & 2) {\n    const ctx_r0 = ngcc0.nextContext();\n    ngcc0.property(\"id\", ctx_r0.panelId)(\"ngClass\", ctx_r0._classList)(\"@transformMenu\", ctx_r0._panelAnimationState);\n    ngcc0.attribute(\"aria-label\", ctx_r0.ariaLabel || null)(\"aria-labelledby\", ctx_r0.ariaLabelledby || null)(\"aria-describedby\", ctx_r0.ariaDescribedby || null);\n} }\nconst matMenuAnimations = {\n    /**\n     * This animation controls the menu panel's entry and exit from the page.\n     *\n     * When the menu panel is added to the DOM, it scales in and fades in its border.\n     *\n     * When the menu panel is removed from the DOM, it simply fades out after a brief\n     * delay to display the ripple.\n     */\n    transformMenu: trigger('transformMenu', [\n        state('void', style({\n            opacity: 0,\n            transform: 'scale(0.8)'\n        })),\n        transition('void => enter', animate('120ms cubic-bezier(0, 0, 0.2, 1)', style({\n            opacity: 1,\n            transform: 'scale(1)'\n        }))),\n        transition('* => void', animate('100ms 25ms linear', style({ opacity: 0 })))\n    ]),\n    /**\n     * This animation fades in the background color and content of the menu panel\n     * after its containing element is scaled in.\n     */\n    fadeInItems: trigger('fadeInItems', [\n        // TODO(crisbeto): this is inside the `transformMenu`\n        // now. Remove next time we do breaking changes.\n        state('showing', style({ opacity: 1 })),\n        transition('void => *', [\n            style({ opacity: 0 }),\n            animate('400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)')\n        ])\n    ])\n};\n/**\n * @deprecated\n * @breaking-change 8.0.0\n * @docs-private\n */\nconst fadeInItems = matMenuAnimations.fadeInItems;\n/**\n * @deprecated\n * @breaking-change 8.0.0\n * @docs-private\n */\nconst transformMenu = matMenuAnimations.transformMenu;\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * Injection token that can be used to reference instances of `MatMenuContent`. It serves\n * as alternative token to the actual `MatMenuContent` class which could cause unnecessary\n * retention of the class and its directive metadata.\n */\nconst MAT_MENU_CONTENT = new InjectionToken('MatMenuContent');\n/**\n * Menu content that will be rendered lazily once the menu is opened.\n */\nclass MatMenuContent {\n    constructor(_template, _componentFactoryResolver, _appRef, _injector, _viewContainerRef, _document, _changeDetectorRef) {\n        this._template = _template;\n        this._componentFactoryResolver = _componentFactoryResolver;\n        this._appRef = _appRef;\n        this._injector = _injector;\n        this._viewContainerRef = _viewContainerRef;\n        this._document = _document;\n        this._changeDetectorRef = _changeDetectorRef;\n        /** Emits when the menu content has been attached. */\n        this._attached = new Subject();\n    }\n    /**\n     * Attaches the content with a particular context.\n     * @docs-private\n     */\n    attach(context = {}) {\n        if (!this._portal) {\n            this._portal = new TemplatePortal(this._template, this._viewContainerRef);\n        }\n        this.detach();\n        if (!this._outlet) {\n            this._outlet = new DomPortalOutlet(this._document.createElement('div'), this._componentFactoryResolver, this._appRef, this._injector);\n        }\n        const element = this._template.elementRef.nativeElement;\n        // Because we support opening the same menu from different triggers (which in turn have their\n        // own `OverlayRef` panel), we have to re-insert the host element every time, otherwise we\n        // risk it staying attached to a pane that's no longer in the DOM.\n        element.parentNode.insertBefore(this._outlet.outletElement, element);\n        // When `MatMenuContent` is used in an `OnPush` component, the insertion of the menu\n        // content via `createEmbeddedView` does not cause the content to be seen as \"dirty\"\n        // by Angular. This causes the `@ContentChildren` for menu items within the menu to\n        // not be updated by Angular. By explicitly marking for check here, we tell Angular that\n        // it needs to check for new menu items and update the `@ContentChild` in `MatMenu`.\n        // @breaking-change 9.0.0 Make change detector ref required\n        if (this._changeDetectorRef) {\n            this._changeDetectorRef.markForCheck();\n        }\n        this._portal.attach(this._outlet, context);\n        this._attached.next();\n    }\n    /**\n     * Detaches the content.\n     * @docs-private\n     */\n    detach() {\n        if (this._portal.isAttached) {\n            this._portal.detach();\n        }\n    }\n    ngOnDestroy() {\n        if (this._outlet) {\n            this._outlet.dispose();\n        }\n    }\n}\nMatMenuContent.fac = function MatMenuContent_Factory(t) { return new (t || MatMenuContent)(ngcc0.directiveInject(ngcc0.TemplateRef), ngcc0.directiveInject(ngcc0.ComponentFactoryResolver), ngcc0.directiveInject(ngcc0.ApplicationRef), ngcc0.directiveInject(ngcc0.Injector), ngcc0.directiveInject(ngcc0.ViewContainerRef), ngcc0.directiveInject(DOCUMENT), ngcc0.directiveInject(ngcc0.ChangeDetectorRef)); };\nMatMenuContent.dir = ngcc0.defineDirective({ type: MatMenuContent, selectors: [[\"ng-template\", \"matMenuContent\", \"\"]], features: [ngcc0.ProvidersFeature([{ provide: MAT_MENU_CONTENT, useExisting: MatMenuContent }])] });\nMatMenuContent.ctorParameters = () => [\n    { type: TemplateRef },\n    { type: ComponentFactoryResolver },\n    { type: ApplicationRef },\n    { type: Injector },\n    { type: ViewContainerRef },\n    { type: undefined, decorators: [{ type: Inject, args: [DOCUMENT,] }] },\n    { type: ChangeDetectorRef }\n];\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ngcc0.setClassMetadata(MatMenuContent, [{\n        type: Directive,\n        args: [{\n                selector: 'ng-template[matMenuContent]',\n                providers: [{ provide: MAT_MENU_CONTENT, useExisting: MatMenuContent }]\n            }]\n    }], function () { return [{ type: ngcc0.TemplateRef }, { type: ngcc0.ComponentFactoryResolver }, { type: ngcc0.ApplicationRef }, { type: ngcc0.Injector }, { type: ngcc0.ViewContainerRef }, { type: undefined, decorators: [{\n                type: Inject,\n                args: [DOCUMENT]\n            }] }, { type: ngcc0.ChangeDetectorRef }]; }, null); })();\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * Throws an exception for the case when menu trigger doesn't have a valid mat-menu instance\n * @docs-private\n */\nfunction throwMatMenuMissingError() {\n    throw Error(`matMenuTriggerFor: must pass in an mat-menu instance.\n\n    Example:\n      <mat-menu #menu=\"matMenu\"></mat-menu>\n      <button [matMenuTriggerFor]=\"menu\"></button>`);\n}\n/**\n * Throws an exception for the case when menu's x-position value isn't valid.\n * In other words, it doesn't match 'before' or 'after'.\n * @docs-private\n */\nfunction throwMatMenuInvalidPositionX() {\n    throw Error(`xPosition value must be either 'before' or after'.\n      Example: <mat-menu xPosition=\"before\" #menu=\"matMenu\"></mat-menu>`);\n}\n/**\n * Throws an exception for the case when menu's y-position value isn't valid.\n * In other words, it doesn't match 'above' or 'below'.\n * @docs-private\n */\nfunction throwMatMenuInvalidPositionY() {\n    throw Error(`yPosition value must be either 'above' or below'.\n      Example: <mat-menu yPosition=\"above\" #menu=\"matMenu\"></mat-menu>`);\n}\n/**\n * Throws an exception for the case when a menu is assigned\n * to a trigger that is placed inside the same menu.\n * @docs-private\n */\nfunction throwMatMenuRecursiveError() {\n    throw Error(`matMenuTriggerFor: menu cannot contain its own trigger. Assign a menu that is ` +\n        `not a parent of the trigger or move the trigger outside of the menu.`);\n}\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * Injection token used to provide the parent menu to menu-specific components.\n * @docs-private\n */\nconst MAT_MENU_PANEL = new InjectionToken('MAT_MENU_PANEL');\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n// Boilerplate for applying mixins to MatMenuItem.\n/** @docs-private */\nclass MatMenuItemBase {\n}\nconst _MatMenuItemMixinBase = mixinDisableRipple(mixinDisabled(MatMenuItemBase));\n/**\n * Single item inside of a `mat-menu`. Provides the menu item styling and accessibility treatment.\n */\nclass MatMenuItem extends _MatMenuItemMixinBase {\n    constructor(_elementRef, \n    /**\n     * @deprecated `_document` parameter is no longer being used and will be removed.\n     * @breaking-change 12.0.0\n     */\n    _document, _focusMonitor, _parentMenu) {\n        // @breaking-change 8.0.0 make `_focusMonitor` and `document` required params.\n        super();\n        this._elementRef = _elementRef;\n        this._focusMonitor = _focusMonitor;\n        this._parentMenu = _parentMenu;\n        /** ARIA role for the menu item. */\n        this.role = 'menuitem';\n        /** Stream that emits when the menu item is hovered. */\n        this._hovered = new Subject();\n        /** Stream that emits when the menu item is focused. */\n        this._focused = new Subject();\n        /** Whether the menu item is highlighted. */\n        this._highlighted = false;\n        /** Whether the menu item acts as a trigger for a sub-menu. */\n        this._triggersSubmenu = false;\n        if (_parentMenu && _parentMenu.addItem) {\n            _parentMenu.addItem(this);\n        }\n    }\n    /** Focuses the menu item. */\n    focus(origin, options) {\n        if (this._focusMonitor && origin) {\n            this._focusMonitor.focusVia(this._getHostElement(), origin, options);\n        }\n        else {\n            this._getHostElement().focus(options);\n        }\n        this._focused.next(this);\n    }\n    ngAfterViewInit() {\n        if (this._focusMonitor) {\n            // Start monitoring the element so it gets the appropriate focused classes. We want\n            // to show the focus style for menu items only when the focus was not caused by a\n            // mouse or touch interaction.\n            this._focusMonitor.monitor(this._elementRef, false);\n        }\n    }\n    ngOnDestroy() {\n        if (this._focusMonitor) {\n            this._focusMonitor.stopMonitoring(this._elementRef);\n        }\n        if (this._parentMenu && this._parentMenu.removeItem) {\n            this._parentMenu.removeItem(this);\n        }\n        this._hovered.complete();\n        this._focused.complete();\n    }\n    /** Used to set the `tabindex`. */\n    _getTabIndex() {\n        return this.disabled ? '-1' : '0';\n    }\n    /** Returns the host DOM element. */\n    _getHostElement() {\n        return this._elementRef.nativeElement;\n    }\n    /** Prevents the default element actions if it is disabled. */\n    // We have to use a `HostListener` here in order to support both Ivy and ViewEngine.\n    // In Ivy the `host` bindings will be merged when this class is extended, whereas in\n    // ViewEngine they're overwritten.\n    // TODO(crisbeto): we move this back into `host` once Ivy is turned on by default.\n    // tslint:disable-next-line:no-host-decorator-in-concrete\n    _checkDisabled(event) {\n        if (this.disabled) {\n            event.preventDefault();\n            event.stopPropagation();\n        }\n    }\n    /** Emits to the hover stream. */\n    // We have to use a `HostListener` here in order to support both Ivy and ViewEngine.\n    // In Ivy the `host` bindings will be merged when this class is extended, whereas in\n    // ViewEngine they're overwritten.\n    // TODO(crisbeto): we move this back into `host` once Ivy is turned on by default.\n    // tslint:disable-next-line:no-host-decorator-in-concrete\n    _handleMouseEnter() {\n        this._hovered.next(this);\n    }\n    /** Gets the label to be used when determining whether the option should be focused. */\n    getLabel() {\n        var _a, _b;\n        const clone = this._elementRef.nativeElement.cloneNode(true);\n        const icons = clone.querySelectorAll('mat-icon, .material-icons');\n        // Strip away icons so they don't show up in the text.\n        for (let i = 0; i < icons.length; i++) {\n            const icon = icons[i];\n            (_a = icon.parentNode) === null || _a === void 0 ? void 0 : _a.removeChild(icon);\n        }\n        return ((_b = clone.textContent) === null || _b === void 0 ? void 0 : _b.trim()) || '';\n    }\n}\nMatMenuItem.fac = function MatMenuItem_Factory(t) { return new (t || MatMenuItem)(ngcc0.directiveInject(ngcc0.ElementRef), ngcc0.directiveInject(DOCUMENT), ngcc0.directiveInject(ngcc1.FocusMonitor), ngcc0.directiveInject(MAT_MENU_PANEL, 8)); };\nMatMenuItem.cmp = ngcc0.defineComponent({ type: MatMenuItem, selectors: [[\"\", \"mat-menu-item\", \"\"]], hostAttrs: [1, \"mat-focus-indicator\"], hostVars: 10, hostBindings: function MatMenuItem_HostBindings(rf, ctx) { if (rf & 1) {\n        ngcc0.listener(\"click\", function MatMenuItem_click_HostBindingHandler($event) { return ctx._checkDisabled($event); })(\"mouseenter\", function MatMenuItem_mouseenter_HostBindingHandler() { return ctx._handleMouseEnter(); });\n    } if (rf & 2) {\n        ngcc0.attribute(\"role\", ctx.role)(\"tabindex\", ctx._getTabIndex())(\"aria-disabled\", ctx.disabled.toString())(\"disabled\", ctx.disabled || null);\n        ngcc0.classProp(\"mat-menu-item\", true)(\"mat-menu-item-highlighted\", ctx._highlighted)(\"mat-menu-item-submenu-trigger\", ctx._triggersSubmenu);\n    } }, inputs: { disabled: \"disabled\", disableRipple: \"disableRipple\", role: \"role\" }, exportAs: [\"matMenuItem\"], features: [ngcc0.InheritDefinitionFeature], attrs: _c0, ngContentSelectors: _c1, decls: 2, vars: 2, consts: [[\"matRipple\", \"\", 1, \"mat-menu-ripple\", 3, \"matRippleDisabled\", \"matRippleTrigger\"]], template: function MatMenuItem_Template(rf, ctx) { if (rf & 1) {\n        ngcc0.projectionDef();\n        ngcc0.projection(0);\n        ngcc0.element(1, \"div\", 0);\n    } if (rf & 2) {\n        ngcc0.advance(1);\n        ngcc0.property(\"matRippleDisabled\", ctx.disableRipple || ctx.disabled)(\"matRippleTrigger\", ctx._getHostElement());\n    } }, directives: [ngcc2.MatRipple], encapsulation: 2, changeDetection: 0 });\nMatMenuItem.ctorParameters = () => [\n    { type: ElementRef },\n    { type: undefined, decorators: [{ type: Inject, args: [DOCUMENT,] }] },\n    { type: FocusMonitor },\n    { type: undefined, decorators: [{ type: Inject, args: [MAT_MENU_PANEL,] }, { type: Optional }] }\n];\nMatMenuItem.propDecorators = {\n    role: [{ type: Input }],\n    _checkDisabled: [{ type: HostListener, args: ['click', ['$event'],] }],\n    _handleMouseEnter: [{ type: HostListener, args: ['mouseenter',] }]\n};\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ngcc0.setClassMetadata(MatMenuItem, [{\n        type: Component,\n        args: [{\n                selector: '[mat-menu-item]',\n                exportAs: 'matMenuItem',\n                inputs: ['disabled', 'disableRipple'],\n                host: {\n                    '[attr.role]': 'role',\n                    '[class.mat-menu-item]': 'true',\n                    '[class.mat-menu-item-highlighted]': '_highlighted',\n                    '[class.mat-menu-item-submenu-trigger]': '_triggersSubmenu',\n                    '[attr.tabindex]': '_getTabIndex()',\n                    '[attr.aria-disabled]': 'disabled.toString()',\n                    '[attr.disabled]': 'disabled || null',\n                    'class': 'mat-focus-indicator'\n                },\n                changeDetection: ChangeDetectionStrategy.OnPush,\n                encapsulation: ViewEncapsulation.None,\n                template: \"<ng-content></ng-content>\\n<div class=\\\"mat-menu-ripple\\\" matRipple\\n     [matRippleDisabled]=\\\"disableRipple || disabled\\\"\\n     [matRippleTrigger]=\\\"_getHostElement()\\\">\\n</div>\\n\"\n            }]\n    }], function () { return [{ type: ngcc0.ElementRef }, { type: undefined, decorators: [{\n                type: Inject,\n                args: [DOCUMENT]\n            }] }, { type: ngcc1.FocusMonitor }, { type: undefined, decorators: [{\n                type: Inject,\n                args: [MAT_MENU_PANEL]\n            }, {\n                type: Optional\n            }] }]; }, { role: [{\n            type: Input\n        }], \n    /** Prevents the default element actions if it is disabled. */\n    // We have to use a `HostListener` here in order to support both Ivy and ViewEngine.\n    // In Ivy the `host` bindings will be merged when this class is extended, whereas in\n    // ViewEngine they're overwritten.\n    // TODO(crisbeto): we move this back into `host` once Ivy is turned on by default.\n    // tslint:disable-next-line:no-host-decorator-in-concrete\n    _checkDisabled: [{\n            type: HostListener,\n            args: ['click', ['$event']]\n        }], \n    /** Emits to the hover stream. */\n    // We have to use a `HostListener` here in order to support both Ivy and ViewEngine.\n    // In Ivy the `host` bindings will be merged when this class is extended, whereas in\n    // ViewEngine they're overwritten.\n    // TODO(crisbeto): we move this back into `host` once Ivy is turned on by default.\n    // tslint:disable-next-line:no-host-decorator-in-concrete\n    _handleMouseEnter: [{\n            type: HostListener,\n            args: ['mouseenter']\n        }] }); })();\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/** Injection token to be used to override the default options for `mat-menu`. */\nconst MAT_MENU_DEFAULT_OPTIONS = new InjectionToken('mat-menu-default-options', {\n    providedIn: 'root',\n    factory: MAT_MENU_DEFAULT_OPTIONS_FACTORY\n});\n/** @docs-private */\nfunction MAT_MENU_DEFAULT_OPTIONS_FACTORY() {\n    return {\n        overlapTrigger: false,\n        xPosition: 'after',\n        yPosition: 'below',\n        backdropClass: 'cdk-overlay-transparent-backdrop',\n    };\n}\n/**\n * Start elevation for the menu panel.\n * @docs-private\n */\nconst MAT_MENU_BASE_ELEVATION = 4;\nlet menuPanelUid = 0;\n/** Base class with all of the `MatMenu` functionality. */\nclass _MatMenuBase {\n    constructor(_elementRef, _ngZone, _defaultOptions) {\n        this._elementRef = _elementRef;\n        this._ngZone = _ngZone;\n        this._defaultOptions = _defaultOptions;\n        this._xPosition = this._defaultOptions.xPosition;\n        this._yPosition = this._defaultOptions.yPosition;\n        /** Only the direct descendant menu items. */\n        this._directDescendantItems = new QueryList();\n        /** Subscription to tab events on the menu panel */\n        this._tabSubscription = Subscription.EMPTY;\n        /** Config object to be passed into the menu's ngClass */\n        this._classList = {};\n        /** Current state of the panel animation. */\n        this._panelAnimationState = 'void';\n        /** Emits whenever an animation on the menu completes. */\n        this._animationDone = new Subject();\n        /** Class or list of classes to be added to the overlay panel. */\n        this.overlayPanelClass = this._defaultOptions.overlayPanelClass || '';\n        /** Class to be added to the backdrop element. */\n        this.backdropClass = this._defaultOptions.backdropClass;\n        this._overlapTrigger = this._defaultOptions.overlapTrigger;\n        this._hasBackdrop = this._defaultOptions.hasBackdrop;\n        /** Event emitted when the menu is closed. */\n        this.closed = new EventEmitter();\n        /**\n         * Event emitted when the menu is closed.\n         * @deprecated Switch to `closed` instead\n         * @breaking-change 8.0.0\n         */\n        this.close = this.closed;\n        this.panelId = `mat-menu-panel-${menuPanelUid++}`;\n    }\n    /** Position of the menu in the X axis. */\n    get xPosition() { return this._xPosition; }\n    set xPosition(value) {\n        if (value !== 'before' && value !== 'after' &&\n            (typeof ngDevMode === 'undefined' || ngDevMode)) {\n            throwMatMenuInvalidPositionX();\n        }\n        this._xPosition = value;\n        this.setPositionClasses();\n    }\n    /** Position of the menu in the Y axis. */\n    get yPosition() { return this._yPosition; }\n    set yPosition(value) {\n        if (value !== 'above' && value !== 'below' && (typeof ngDevMode === 'undefined' || ngDevMode)) {\n            throwMatMenuInvalidPositionY();\n        }\n        this._yPosition = value;\n        this.setPositionClasses();\n    }\n    /** Whether the menu should overlap its trigger. */\n    get overlapTrigger() { return this._overlapTrigger; }\n    set overlapTrigger(value) {\n        this._overlapTrigger = coerceBooleanProperty(value);\n    }\n    /** Whether the menu has a backdrop. */\n    get hasBackdrop() { return this._hasBackdrop; }\n    set hasBackdrop(value) {\n        this._hasBackdrop = coerceBooleanProperty(value);\n    }\n    /**\n     * This method takes classes set on the host mat-menu element and applies them on the\n     * menu template that displays in the overlay container.  Otherwise, it's difficult\n     * to style the containing menu from outside the component.\n     * @param classes list of class names\n     */\n    set panelClass(classes) {\n        const previousPanelClass = this._previousPanelClass;\n        if (previousPanelClass && previousPanelClass.length) {\n            previousPanelClass.split(' ').forEach((className) => {\n                this._classList[className] = false;\n            });\n        }\n        this._previousPanelClass = classes;\n        if (classes && classes.length) {\n            classes.split(' ').forEach((className) => {\n                this._classList[className] = true;\n            });\n            this._elementRef.nativeElement.className = '';\n        }\n    }\n    /**\n     * This method takes classes set on the host mat-menu element and applies them on the\n     * menu template that displays in the overlay container.  Otherwise, it's difficult\n     * to style the containing menu from outside the component.\n     * @deprecated Use `panelClass` instead.\n     * @breaking-change 8.0.0\n     */\n    get classList() { return this.panelClass; }\n    set classList(classes) { this.panelClass = classes; }\n    ngOnInit() {\n        this.setPositionClasses();\n    }\n    ngAfterContentInit() {\n        this._updateDirectDescendants();\n        this._keyManager = new FocusKeyManager(this._directDescendantItems)\n            .withWrap()\n            .withTypeAhead()\n            .withHomeAndEnd();\n        this._tabSubscription = this._keyManager.tabOut.subscribe(() => this.closed.emit('tab'));\n        // If a user manually (programmatically) focuses a menu item, we need to reflect that focus\n        // change back to the key manager. Note that we don't need to unsubscribe here because _focused\n        // is internal and we know that it gets completed on destroy.\n        this._directDescendantItems.changes.pipe(startWith(this._directDescendantItems), switchMap(items => merge(...items.map((item) => item._focused)))).subscribe(focusedItem => this._keyManager.updateActiveItem(focusedItem));\n    }\n    ngOnDestroy() {\n        this._directDescendantItems.destroy();\n        this._tabSubscription.unsubscribe();\n        this.closed.complete();\n    }\n    /** Stream that emits whenever the hovered menu item changes. */\n    _hovered() {\n        // Coerce the `changes` property because Angular types it as `Observable<any>`\n        const itemChanges = this._directDescendantItems.changes;\n        return itemChanges.pipe(startWith(this._directDescendantItems), switchMap(items => merge(...items.map((item) => item._hovered))));\n    }\n    /*\n     * Registers a menu item with the menu.\n     * @docs-private\n     * @deprecated No longer being used. To be removed.\n     * @breaking-change 9.0.0\n     */\n    addItem(_item) { }\n    /**\n     * Removes an item from the menu.\n     * @docs-private\n     * @deprecated No longer being used. To be removed.\n     * @breaking-change 9.0.0\n     */\n    removeItem(_item) { }\n    /** Handle a keyboard event from the menu, delegating to the appropriate action. */\n    _handleKeydown(event) {\n        const keyCode = event.keyCode;\n        const manager = this._keyManager;\n        switch (keyCode) {\n            case ESCAPE:\n                if (!hasModifierKey(event)) {\n                    event.preventDefault();\n                    this.closed.emit('keydown');\n                }\n                break;\n            case LEFT_ARROW:\n                if (this.parentMenu && this.direction === 'ltr') {\n                    this.closed.emit('keydown');\n                }\n                break;\n            case RIGHT_ARROW:\n                if (this.parentMenu && this.direction === 'rtl') {\n                    this.closed.emit('keydown');\n                }\n                break;\n            default:\n                if (keyCode === UP_ARROW || keyCode === DOWN_ARROW) {\n                    manager.setFocusOrigin('keyboard');\n                }\n                manager.onKeydown(event);\n        }\n    }\n    /**\n     * Focus the first item in the menu.\n     * @param origin Action from which the focus originated. Used to set the correct styling.\n     */\n    focusFirstItem(origin = 'program') {\n        // When the content is rendered lazily, it takes a bit before the items are inside the DOM.\n        if (this.lazyContent) {\n            this._ngZone.onStable\n                .pipe(take(1))\n                .subscribe(() => this._focusFirstItem(origin));\n        }\n        else {\n            this._focusFirstItem(origin);\n        }\n    }\n    /**\n     * Actual implementation that focuses the first item. Needs to be separated\n     * out so we don't repeat the same logic in the public `focusFirstItem` method.\n     */\n    _focusFirstItem(origin) {\n        const manager = this._keyManager;\n        manager.setFocusOrigin(origin).setFirstItemActive();\n        // If there's no active item at this point, it means that all the items are disabled.\n        // Move focus to the menu panel so keyboard events like Escape still work. Also this will\n        // give _some_ feedback to screen readers.\n        if (!manager.activeItem && this._directDescendantItems.length) {\n            let element = this._directDescendantItems.first._getHostElement().parentElement;\n            // Because the `mat-menu` is at the DOM insertion point, not inside the overlay, we don't\n            // have a nice way of getting a hold of the menu panel. We can't use a `ViewChild` either\n            // because the panel is inside an `ng-template`. We work around it by starting from one of\n            // the items and walking up the DOM.\n            while (element) {\n                if (element.getAttribute('role') === 'menu') {\n                    element.focus();\n                    break;\n                }\n                else {\n                    element = element.parentElement;\n                }\n            }\n        }\n    }\n    /**\n     * Resets the active item in the menu. This is used when the menu is opened, allowing\n     * the user to start from the first option when pressing the down arrow.\n     */\n    resetActiveItem() {\n        this._keyManager.setActiveItem(-1);\n    }\n    /**\n     * Sets the menu panel elevation.\n     * @param depth Number of parent menus that come before the menu.\n     */\n    setElevation(depth) {\n        // The elevation starts at the base and increases by one for each level.\n        // Capped at 24 because that's the maximum elevation defined in the Material design spec.\n        const elevation = Math.min(MAT_MENU_BASE_ELEVATION + depth, 24);\n        const newElevation = `mat-elevation-z${elevation}`;\n        const customElevation = Object.keys(this._classList).find(c => c.startsWith('mat-elevation-z'));\n        if (!customElevation || customElevation === this._previousElevation) {\n            if (this._previousElevation) {\n                this._classList[this._previousElevation] = false;\n            }\n            this._classList[newElevation] = true;\n            this._previousElevation = newElevation;\n        }\n    }\n    /**\n     * Adds classes to the menu panel based on its position. Can be used by\n     * consumers to add specific styling based on the position.\n     * @param posX Position of the menu along the x axis.\n     * @param posY Position of the menu along the y axis.\n     * @docs-private\n     */\n    setPositionClasses(posX = this.xPosition, posY = this.yPosition) {\n        const classes = this._classList;\n        classes['mat-menu-before'] = posX === 'before';\n        classes['mat-menu-after'] = posX === 'after';\n        classes['mat-menu-above'] = posY === 'above';\n        classes['mat-menu-below'] = posY === 'below';\n    }\n    /** Starts the enter animation. */\n    _startAnimation() {\n        // @breaking-change 8.0.0 Combine with _resetAnimation.\n        this._panelAnimationState = 'enter';\n    }\n    /** Resets the panel animation to its initial state. */\n    _resetAnimation() {\n        // @breaking-change 8.0.0 Combine with _startAnimation.\n        this._panelAnimationState = 'void';\n    }\n    /** Callback that is invoked when the panel animation completes. */\n    _onAnimationDone(event) {\n        this._animationDone.next(event);\n        this._isAnimating = false;\n    }\n    _onAnimationStart(event) {\n        this._isAnimating = true;\n        // Scroll the content element to the top as soon as the animation starts. This is necessary,\n        // because we move focus to the first item while it's still being animated, which can throw\n        // the browser off when it determines the scroll position. Alternatively we can move focus\n        // when the animation is done, however moving focus asynchronously will interrupt screen\n        // readers which are in the process of reading out the menu already. We take the `element`\n        // from the `event` since we can't use a `ViewChild` to access the pane.\n        if (event.toState === 'enter' && this._keyManager.activeItemIndex === 0) {\n            event.element.scrollTop = 0;\n        }\n    }\n    /**\n     * Sets up a stream that will keep track of any newly-added menu items and will update the list\n     * of direct descendants. We collect the descendants this way, because `_allItems` can include\n     * items that are part of child menus, and using a custom way of registering items is unreliable\n     * when it comes to maintaining the item order.\n     */\n    _updateDirectDescendants() {\n        this._allItems.changes\n            .pipe(startWith(this._allItems))\n            .subscribe((items) => {\n            this._directDescendantItems.reset(items.filter(item => item._parentMenu === this));\n            this._directDescendantItems.notifyOnChanges();\n        });\n    }\n}\n_MatMenuBase.fac = function _MatMenuBase_Factory(t) { return new (t || _MatMenuBase)(ngcc0.directiveInject(ngcc0.ElementRef), ngcc0.directiveInject(ngcc0.NgZone), ngcc0.directiveInject(MAT_MENU_DEFAULT_OPTIONS)); };\n_MatMenuBase.dir = ngcc0.defineDirective({ type: _MatMenuBase, contentQueries: function _MatMenuBase_ContentQueries(rf, ctx, dirIndex) { if (rf & 1) {\n        ngcc0.contentQuery(dirIndex, MAT_MENU_CONTENT, 1);\n        ngcc0.contentQuery(dirIndex, MatMenuItem, 1);\n        ngcc0.contentQuery(dirIndex, MatMenuItem, 0);\n    } if (rf & 2) {\n        let _t;\n        ngcc0.queryRefresh(_t = ngcc0.loadQuery()) && (ctx.lazyContent = _t.first);\n        ngcc0.queryRefresh(_t = ngcc0.loadQuery()) && (ctx._allItems = _t);\n        ngcc0.queryRefresh(_t = ngcc0.loadQuery()) && (ctx.items = _t);\n    } }, viewQuery: function _MatMenuBase_Query(rf, ctx) { if (rf & 1) {\n        ngcc0.viewQuery(TemplateRef, 1);\n    } if (rf & 2) {\n        let _t;\n        ngcc0.queryRefresh(_t = ngcc0.loadQuery()) && (ctx.templateRef = _t.first);\n    } }, inputs: { backdropClass: \"backdropClass\", xPosition: \"xPosition\", yPosition: \"yPosition\", overlapTrigger: \"overlapTrigger\", hasBackdrop: \"hasBackdrop\", panelClass: [\"class\", \"panelClass\"], classList: \"classList\", ariaLabel: [\"aria-label\", \"ariaLabel\"], ariaLabelledby: [\"aria-labelledby\", \"ariaLabelledby\"], ariaDescribedby: [\"aria-describedby\", \"ariaDescribedby\"] }, outputs: { closed: \"closed\", close: \"close\" } });\n_MatMenuBase.ctorParameters = () => [\n    { type: ElementRef },\n    { type: NgZone },\n    { type: undefined, decorators: [{ type: Inject, args: [MAT_MENU_DEFAULT_OPTIONS,] }] }\n];\n_MatMenuBase.propDecorators = {\n    _allItems: [{ type: ContentChildren, args: [MatMenuItem, { descendants: true },] }],\n    backdropClass: [{ type: Input }],\n    ariaLabel: [{ type: Input, args: ['aria-label',] }],\n    ariaLabelledby: [{ type: Input, args: ['aria-labelledby',] }],\n    ariaDescribedby: [{ type: Input, args: ['aria-describedby',] }],\n    xPosition: [{ type: Input }],\n    yPosition: [{ type: Input }],\n    templateRef: [{ type: ViewChild, args: [TemplateRef,] }],\n    items: [{ type: ContentChildren, args: [MatMenuItem, { descendants: false },] }],\n    lazyContent: [{ type: ContentChild, args: [MAT_MENU_CONTENT,] }],\n    overlapTrigger: [{ type: Input }],\n    hasBackdrop: [{ type: Input }],\n    panelClass: [{ type: Input, args: ['class',] }],\n    classList: [{ type: Input }],\n    closed: [{ type: Output }],\n    close: [{ type: Output }]\n};\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ngcc0.setClassMetadata(_MatMenuBase, [{\n        type: Directive\n    }], function () { return [{ type: ngcc0.ElementRef }, { type: ngcc0.NgZone }, { type: undefined, decorators: [{\n                type: Inject,\n                args: [MAT_MENU_DEFAULT_OPTIONS]\n            }] }]; }, { backdropClass: [{\n            type: Input\n        }], closed: [{\n            type: Output\n        }], close: [{\n            type: Output\n        }], xPosition: [{\n            type: Input\n        }], yPosition: [{\n            type: Input\n        }], overlapTrigger: [{\n            type: Input\n        }], hasBackdrop: [{\n            type: Input\n        }], panelClass: [{\n            type: Input,\n            args: ['class']\n        }], classList: [{\n            type: Input\n        }], _allItems: [{\n            type: ContentChildren,\n            args: [MatMenuItem, { descendants: true }]\n        }], ariaLabel: [{\n            type: Input,\n            args: ['aria-label']\n        }], ariaLabelledby: [{\n            type: Input,\n            args: ['aria-labelledby']\n        }], ariaDescribedby: [{\n            type: Input,\n            args: ['aria-describedby']\n        }], templateRef: [{\n            type: ViewChild,\n            args: [TemplateRef]\n        }], items: [{\n            type: ContentChildren,\n            args: [MatMenuItem, { descendants: false }]\n        }], lazyContent: [{\n            type: ContentChild,\n            args: [MAT_MENU_CONTENT]\n        }] }); })();\n/** @docs-public MatMenu */\nclass MatMenu extends _MatMenuBase {\n    constructor(elementRef, ngZone, defaultOptions) {\n        super(elementRef, ngZone, defaultOptions);\n    }\n}\nMatMenu.fac = function MatMenu_Factory(t) { return new (t || MatMenu)(ngcc0.directiveInject(ngcc0.ElementRef), ngcc0.directiveInject(ngcc0.NgZone), ngcc0.directiveInject(MAT_MENU_DEFAULT_OPTIONS)); };\nMatMenu.cmp = ngcc0.defineComponent({ type: MatMenu, selectors: [[\"mat-menu\"]], hostVars: 3, hostBindings: function MatMenu_HostBindings(rf, ctx) { if (rf & 2) {\n        ngcc0.attribute(\"aria-label\", null)(\"aria-labelledby\", null)(\"aria-describedby\", null);\n    } }, exportAs: [\"matMenu\"], features: [ngcc0.ProvidersFeature([\n            { provide: MAT_MENU_PANEL, useExisting: MatMenu },\n        ]), ngcc0.InheritDefinitionFeature], ngContentSelectors: _c1, decls: 1, vars: 0, consts: [[\"tabindex\", \"-1\", \"role\", \"menu\", 1, \"mat-menu-panel\", 3, \"id\", \"ngClass\", \"keydown\", \"click\"], [1, \"mat-menu-content\"]], template: function MatMenu_Template(rf, ctx) { if (rf & 1) {\n        ngcc0.projectionDef();\n        ngcc0.template(0, MatMenu_ng_template_0_Template, 3, 6, \"ng-template\");\n    } }, directives: [ngcc3.NgClass], styles: [\"mat-menu{display:none}.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]{pointer-events:none}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.cdk-high-contrast-active .mat-menu-item.cdk-program-focused,.cdk-high-contrast-active .mat-menu-item.cdk-keyboard-focused,.cdk-high-contrast-active .mat-menu-item-highlighted{outline:dotted 1px}.mat-menu-item-submenu-trigger{padding-right:32px}.mat-menu-item-submenu-trigger::after{width:0;height:0;border-style:solid;border-width:5px 0 5px 5px;border-color:transparent transparent transparent currentColor;content:\\\"\\\";display:inline-block;position:absolute;top:50%;right:16px;transform:translateY(-50%)}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}[dir=rtl] .mat-menu-item-submenu-trigger::after{right:auto;left:16px;transform:rotateY(180deg) translateY(-50%)}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}\\n\"], encapsulation: 2, data: { animation: [\n            matMenuAnimations.transformMenu,\n            matMenuAnimations.fadeInItems\n        ] }, changeDetection: 0 });\nMatMenu.ctorParameters = () => [\n    { type: ElementRef },\n    { type: NgZone },\n    { type: undefined, decorators: [{ type: Inject, args: [MAT_MENU_DEFAULT_OPTIONS,] }] }\n];\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ngcc0.setClassMetadata(MatMenu, [{\n        type: Component,\n        args: [{\n                selector: 'mat-menu',\n                template: \"<ng-template>\\n  <div\\n    class=\\\"mat-menu-panel\\\"\\n    [id]=\\\"panelId\\\"\\n    [ngClass]=\\\"_classList\\\"\\n    (keydown)=\\\"_handleKeydown($event)\\\"\\n    (click)=\\\"closed.emit('click')\\\"\\n    [@transformMenu]=\\\"_panelAnimationState\\\"\\n    (@transformMenu.start)=\\\"_onAnimationStart($event)\\\"\\n    (@transformMenu.done)=\\\"_onAnimationDone($event)\\\"\\n    tabindex=\\\"-1\\\"\\n    role=\\\"menu\\\"\\n    [attr.aria-label]=\\\"ariaLabel || null\\\"\\n    [attr.aria-labelledby]=\\\"ariaLabelledby || null\\\"\\n    [attr.aria-describedby]=\\\"ariaDescribedby || null\\\">\\n    <div class=\\\"mat-menu-content\\\">\\n      <ng-content></ng-content>\\n    </div>\\n  </div>\\n</ng-template>\\n\",\n                changeDetection: ChangeDetectionStrategy.OnPush,\n                encapsulation: ViewEncapsulation.None,\n                exportAs: 'matMenu',\n                host: {\n                    '[attr.aria-label]': 'null',\n                    '[attr.aria-labelledby]': 'null',\n                    '[attr.aria-describedby]': 'null'\n                },\n                animations: [\n                    matMenuAnimations.transformMenu,\n                    matMenuAnimations.fadeInItems\n                ],\n                providers: [\n                    { provide: MAT_MENU_PANEL, useExisting: MatMenu },\n                ],\n                styles: [\"mat-menu{display:none}.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]{pointer-events:none}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.cdk-high-contrast-active .mat-menu-item.cdk-program-focused,.cdk-high-contrast-active .mat-menu-item.cdk-keyboard-focused,.cdk-high-contrast-active .mat-menu-item-highlighted{outline:dotted 1px}.mat-menu-item-submenu-trigger{padding-right:32px}.mat-menu-item-submenu-trigger::after{width:0;height:0;border-style:solid;border-width:5px 0 5px 5px;border-color:transparent transparent transparent currentColor;content:\\\"\\\";display:inline-block;position:absolute;top:50%;right:16px;transform:translateY(-50%)}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}[dir=rtl] .mat-menu-item-submenu-trigger::after{right:auto;left:16px;transform:rotateY(180deg) translateY(-50%)}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}\\n\"]\n            }]\n    }], function () { return [{ type: ngcc0.ElementRef }, { type: ngcc0.NgZone }, { type: undefined, decorators: [{\n                type: Inject,\n                args: [MAT_MENU_DEFAULT_OPTIONS]\n            }] }]; }, null); })();\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/** Injection token that determines the scroll handling while the menu is open. */\nconst MAT_MENU_SCROLL_STRATEGY = new InjectionToken('mat-menu-scroll-strategy');\n/** @docs-private */\nfunction MAT_MENU_SCROLL_STRATEGY_FACTORY(overlay) {\n    return () => overlay.scrollStrategies.reposition();\n}\n/** @docs-private */\nconst MAT_MENU_SCROLL_STRATEGY_FACTORY_PROVIDER = {\n    provide: MAT_MENU_SCROLL_STRATEGY,\n    deps: [Overlay],\n    useFactory: MAT_MENU_SCROLL_STRATEGY_FACTORY,\n};\n/** Default top padding of the menu panel. */\nconst MENU_PANEL_TOP_PADDING = 8;\n/** Options for binding a passive event listener. */\nconst passiveEventListenerOptions = normalizePassiveListenerOptions({ passive: true });\n// TODO(andrewseguin): Remove the kebab versions in favor of camelCased attribute selectors\n/** Directive applied to an element that should trigger a `mat-menu`. */\nclass MatMenuTrigger {\n    constructor(_overlay, _element, _viewContainerRef, scrollStrategy, parentMenu, \n    // `MatMenuTrigger` is commonly used in combination with a `MatMenuItem`.\n    // tslint:disable-next-line: lightweight-tokens\n    _menuItemInstance, _dir, \n    // TODO(crisbeto): make the _focusMonitor required when doing breaking changes.\n    // @breaking-change 8.0.0\n    _focusMonitor) {\n        this._overlay = _overlay;\n        this._element = _element;\n        this._viewContainerRef = _viewContainerRef;\n        this._menuItemInstance = _menuItemInstance;\n        this._dir = _dir;\n        this._focusMonitor = _focusMonitor;\n        this._overlayRef = null;\n        this._menuOpen = false;\n        this._closingActionsSubscription = Subscription.EMPTY;\n        this._hoverSubscription = Subscription.EMPTY;\n        this._menuCloseSubscription = Subscription.EMPTY;\n        /**\n         * Handles touch start events on the trigger.\n         * Needs to be an arrow function so we can easily use addEventListener and removeEventListener.\n         */\n        this._handleTouchStart = (event) => {\n            if (!isFakeTouchstartFromScreenReader(event)) {\n                this._openedBy = 'touch';\n            }\n        };\n        // Tracking input type is necessary so it's possible to only auto-focus\n        // the first item of the list when the menu is opened via the keyboard\n        this._openedBy = undefined;\n        /**\n         * Whether focus should be restored when the menu is closed.\n         * Note that disabling this option can have accessibility implications\n         * and it's up to you to manage focus, if you decide to turn it off.\n         */\n        this.restoreFocus = true;\n        /** Event emitted when the associated menu is opened. */\n        this.menuOpened = new EventEmitter();\n        /**\n         * Event emitted when the associated menu is opened.\n         * @deprecated Switch to `menuOpened` instead\n         * @breaking-change 8.0.0\n         */\n        // tslint:disable-next-line:no-output-on-prefix\n        this.onMenuOpen = this.menuOpened;\n        /** Event emitted when the associated menu is closed. */\n        this.menuClosed = new EventEmitter();\n        /**\n         * Event emitted when the associated menu is closed.\n         * @deprecated Switch to `menuClosed` instead\n         * @breaking-change 8.0.0\n         */\n        // tslint:disable-next-line:no-output-on-prefix\n        this.onMenuClose = this.menuClosed;\n        this._scrollStrategy = scrollStrategy;\n        this._parentMaterialMenu = parentMenu instanceof _MatMenuBase ? parentMenu : undefined;\n        _element.nativeElement.addEventListener('touchstart', this._handleTouchStart, passiveEventListenerOptions);\n        if (_menuItemInstance) {\n            _menuItemInstance._triggersSubmenu = this.triggersSubmenu();\n        }\n    }\n    /**\n     * @deprecated\n     * @breaking-change 8.0.0\n     */\n    get _deprecatedMatMenuTriggerFor() { return this.menu; }\n    set _deprecatedMatMenuTriggerFor(v) {\n        this.menu = v;\n    }\n    /** References the menu instance that the trigger is associated with. */\n    get menu() { return this._menu; }\n    set menu(menu) {\n        if (menu === this._menu) {\n            return;\n        }\n        this._menu = menu;\n        this._menuCloseSubscription.unsubscribe();\n        if (menu) {\n            if (menu === this._parentMaterialMenu && (typeof ngDevMode === 'undefined' || ngDevMode)) {\n                throwMatMenuRecursiveError();\n            }\n            this._menuCloseSubscription = menu.close.subscribe((reason) => {\n                this._destroyMenu(reason);\n                // If a click closed the menu, we should close the entire chain of nested menus.\n                if ((reason === 'click' || reason === 'tab') && this._parentMaterialMenu) {\n                    this._parentMaterialMenu.closed.emit(reason);\n                }\n            });\n        }\n    }\n    ngAfterContentInit() {\n        this._checkMenu();\n        this._handleHover();\n    }\n    ngOnDestroy() {\n        if (this._overlayRef) {\n            this._overlayRef.dispose();\n            this._overlayRef = null;\n        }\n        this._element.nativeElement.removeEventListener('touchstart', this._handleTouchStart, passiveEventListenerOptions);\n        this._menuCloseSubscription.unsubscribe();\n        this._closingActionsSubscription.unsubscribe();\n        this._hoverSubscription.unsubscribe();\n    }\n    /** Whether the menu is open. */\n    get menuOpen() {\n        return this._menuOpen;\n    }\n    /** The text direction of the containing app. */\n    get dir() {\n        return this._dir && this._dir.value === 'rtl' ? 'rtl' : 'ltr';\n    }\n    /** Whether the menu triggers a sub-menu or a top-level one. */\n    triggersSubmenu() {\n        return !!(this._menuItemInstance && this._parentMaterialMenu);\n    }\n    /** Toggles the menu between the open and closed states. */\n    toggleMenu() {\n        return this._menuOpen ? this.closeMenu() : this.openMenu();\n    }\n    /** Opens the menu. */\n    openMenu() {\n        if (this._menuOpen) {\n            return;\n        }\n        this._checkMenu();\n        const overlayRef = this._createOverlay();\n        const overlayConfig = overlayRef.getConfig();\n        this._setPosition(overlayConfig.positionStrategy);\n        overlayConfig.hasBackdrop = this.menu.hasBackdrop == null ? !this.triggersSubmenu() :\n            this.menu.hasBackdrop;\n        overlayRef.attach(this._getPortal());\n        if (this.menu.lazyContent) {\n            this.menu.lazyContent.attach(this.menuData);\n        }\n        this._closingActionsSubscription = this._menuClosingActions().subscribe(() => this.closeMenu());\n        this._initMenu();\n        if (this.menu instanceof _MatMenuBase) {\n            this.menu._startAnimation();\n        }\n    }\n    /** Closes the menu. */\n    closeMenu() {\n        this.menu.close.emit();\n    }\n    /**\n     * Focuses the menu trigger.\n     * @param origin Source of the menu trigger's focus.\n     */\n    focus(origin, options) {\n        if (this._focusMonitor && origin) {\n            this._focusMonitor.focusVia(this._element, origin, options);\n        }\n        else {\n            this._element.nativeElement.focus(options);\n        }\n    }\n    /** Closes the menu and does the necessary cleanup. */\n    _destroyMenu(reason) {\n        if (!this._overlayRef || !this.menuOpen) {\n            return;\n        }\n        const menu = this.menu;\n        this._closingActionsSubscription.unsubscribe();\n        this._overlayRef.detach();\n        // Always restore focus if the user is navigating using the keyboard or the menu was opened\n        // programmatically. We don't restore for non-root triggers, because it can prevent focus\n        // from making it back to the root trigger when closing a long chain of menus by clicking\n        // on the backdrop.\n        if (this.restoreFocus && (reason === 'keydown' || !this._openedBy || !this.triggersSubmenu())) {\n            this.focus(this._openedBy);\n        }\n        this._openedBy = undefined;\n        if (menu instanceof _MatMenuBase) {\n            menu._resetAnimation();\n            if (menu.lazyContent) {\n                // Wait for the exit animation to finish before detaching the content.\n                menu._animationDone\n                    .pipe(filter(event => event.toState === 'void'), take(1), \n                // Interrupt if the content got re-attached.\n                takeUntil(menu.lazyContent._attached))\n                    .subscribe({\n                    next: () => menu.lazyContent.detach(),\n                    // No matter whether the content got re-attached, reset the menu.\n                    complete: () => this._setIsMenuOpen(false)\n                });\n            }\n            else {\n                this._setIsMenuOpen(false);\n            }\n        }\n        else {\n            this._setIsMenuOpen(false);\n            if (menu.lazyContent) {\n                menu.lazyContent.detach();\n            }\n        }\n    }\n    /**\n     * This method sets the menu state to open and focuses the first item if\n     * the menu was opened via the keyboard.\n     */\n    _initMenu() {\n        this.menu.parentMenu = this.triggersSubmenu() ? this._parentMaterialMenu : undefined;\n        this.menu.direction = this.dir;\n        this._setMenuElevation();\n        this.menu.focusFirstItem(this._openedBy || 'program');\n        this._setIsMenuOpen(true);\n    }\n    /** Updates the menu elevation based on the amount of parent menus that it has. */\n    _setMenuElevation() {\n        if (this.menu.setElevation) {\n            let depth = 0;\n            let parentMenu = this.menu.parentMenu;\n            while (parentMenu) {\n                depth++;\n                parentMenu = parentMenu.parentMenu;\n            }\n            this.menu.setElevation(depth);\n        }\n    }\n    // set state rather than toggle to support triggers sharing a menu\n    _setIsMenuOpen(isOpen) {\n        this._menuOpen = isOpen;\n        this._menuOpen ? this.menuOpened.emit() : this.menuClosed.emit();\n        if (this.triggersSubmenu()) {\n            this._menuItemInstance._highlighted = isOpen;\n        }\n    }\n    /**\n     * This method checks that a valid instance of MatMenu has been passed into\n     * matMenuTriggerFor. If not, an exception is thrown.\n     */\n    _checkMenu() {\n        if (!this.menu && (typeof ngDevMode === 'undefined' || ngDevMode)) {\n            throwMatMenuMissingError();\n        }\n    }\n    /**\n     * This method creates the overlay from the provided menu's template and saves its\n     * OverlayRef so that it can be attached to the DOM when openMenu is called.\n     */\n    _createOverlay() {\n        if (!this._overlayRef) {\n            const config = this._getOverlayConfig();\n            this._subscribeToPositions(config.positionStrategy);\n            this._overlayRef = this._overlay.create(config);\n            // Consume the `keydownEvents` in order to prevent them from going to another overlay.\n            // Ideally we'd also have our keyboard event logic in here, however doing so will\n            // break anybody that may have implemented the `MatMenuPanel` themselves.\n            this._overlayRef.keydownEvents().subscribe();\n        }\n        return this._overlayRef;\n    }\n    /**\n     * This method builds the configuration object needed to create the overlay, the OverlayState.\n     * @returns OverlayConfig\n     */\n    _getOverlayConfig() {\n        return new OverlayConfig({\n            positionStrategy: this._overlay.position()\n                .flexibleConnectedTo(this._element)\n                .withLockedPosition()\n                .withGrowAfterOpen()\n                .withTransformOriginOn('.mat-menu-panel, .mat-mdc-menu-panel'),\n            backdropClass: this.menu.backdropClass || 'cdk-overlay-transparent-backdrop',\n            panelClass: this.menu.overlayPanelClass,\n            scrollStrategy: this._scrollStrategy(),\n            direction: this._dir\n        });\n    }\n    /**\n     * Listens to changes in the position of the overlay and sets the correct classes\n     * on the menu based on the new position. This ensures the animation origin is always\n     * correct, even if a fallback position is used for the overlay.\n     */\n    _subscribeToPositions(position) {\n        if (this.menu.setPositionClasses) {\n            position.positionChanges.subscribe(change => {\n                const posX = change.connectionPair.overlayX === 'start' ? 'after' : 'before';\n                const posY = change.connectionPair.overlayY === 'top' ? 'below' : 'above';\n                this.menu.setPositionClasses(posX, posY);\n            });\n        }\n    }\n    /**\n     * Sets the appropriate positions on a position strategy\n     * so the overlay connects with the trigger correctly.\n     * @param positionStrategy Strategy whose position to update.\n     */\n    _setPosition(positionStrategy) {\n        let [originX, originFallbackX] = this.menu.xPosition === 'before' ? ['end', 'start'] : ['start', 'end'];\n        let [overlayY, overlayFallbackY] = this.menu.yPosition === 'above' ? ['bottom', 'top'] : ['top', 'bottom'];\n        let [originY, originFallbackY] = [overlayY, overlayFallbackY];\n        let [overlayX, overlayFallbackX] = [originX, originFallbackX];\n        let offsetY = 0;\n        if (this.triggersSubmenu()) {\n            // When the menu is a sub-menu, it should always align itself\n            // to the edges of the trigger, instead of overlapping it.\n            overlayFallbackX = originX = this.menu.xPosition === 'before' ? 'start' : 'end';\n            originFallbackX = overlayX = originX === 'end' ? 'start' : 'end';\n            offsetY = overlayY === 'bottom' ? MENU_PANEL_TOP_PADDING : -MENU_PANEL_TOP_PADDING;\n        }\n        else if (!this.menu.overlapTrigger) {\n            originY = overlayY === 'top' ? 'bottom' : 'top';\n            originFallbackY = overlayFallbackY === 'top' ? 'bottom' : 'top';\n        }\n        positionStrategy.withPositions([\n            { originX, originY, overlayX, overlayY, offsetY },\n            { originX: originFallbackX, originY, overlayX: overlayFallbackX, overlayY, offsetY },\n            {\n                originX,\n                originY: originFallbackY,\n                overlayX,\n                overlayY: overlayFallbackY,\n                offsetY: -offsetY\n            },\n            {\n                originX: originFallbackX,\n                originY: originFallbackY,\n                overlayX: overlayFallbackX,\n                overlayY: overlayFallbackY,\n                offsetY: -offsetY\n            }\n        ]);\n    }\n    /** Returns a stream that emits whenever an action that should close the menu occurs. */\n    _menuClosingActions() {\n        const backdrop = this._overlayRef.backdropClick();\n        const detachments = this._overlayRef.detachments();\n        const parentClose = this._parentMaterialMenu ? this._parentMaterialMenu.closed : of();\n        const hover = this._parentMaterialMenu ? this._parentMaterialMenu._hovered().pipe(filter(active => active !== this._menuItemInstance), filter(() => this._menuOpen)) : of();\n        return merge(backdrop, parentClose, hover, detachments);\n    }\n    /** Handles mouse presses on the trigger. */\n    _handleMousedown(event) {\n        if (!isFakeMousedownFromScreenReader(event)) {\n            // Since right or middle button clicks won't trigger the `click` event,\n            // we shouldn't consider the menu as opened by mouse in those cases.\n            this._openedBy = event.button === 0 ? 'mouse' : undefined;\n            // Since clicking on the trigger won't close the menu if it opens a sub-menu,\n            // we should prevent focus from moving onto it via click to avoid the\n            // highlight from lingering on the menu item.\n            if (this.triggersSubmenu()) {\n                event.preventDefault();\n            }\n        }\n    }\n    /** Handles key presses on the trigger. */\n    _handleKeydown(event) {\n        const keyCode = event.keyCode;\n        // Pressing enter on the trigger will trigger the click handler later.\n        if (keyCode === ENTER || keyCode === SPACE) {\n            this._openedBy = 'keyboard';\n        }\n        if (this.triggersSubmenu() && ((keyCode === RIGHT_ARROW && this.dir === 'ltr') ||\n            (keyCode === LEFT_ARROW && this.dir === 'rtl'))) {\n            this._openedBy = 'keyboard';\n            this.openMenu();\n        }\n    }\n    /** Handles click events on the trigger. */\n    _handleClick(event) {\n        if (this.triggersSubmenu()) {\n            // Stop event propagation to avoid closing the parent menu.\n            event.stopPropagation();\n            this.openMenu();\n        }\n        else {\n            this.toggleMenu();\n        }\n    }\n    /** Handles the cases where the user hovers over the trigger. */\n    _handleHover() {\n        // Subscribe to changes in the hovered item in order to toggle the panel.\n        if (!this.triggersSubmenu() || !this._parentMaterialMenu) {\n            return;\n        }\n        this._hoverSubscription = this._parentMaterialMenu._hovered()\n            // Since we might have multiple competing triggers for the same menu (e.g. a sub-menu\n            // with different data and triggers), we have to delay it by a tick to ensure that\n            // it won't be closed immediately after it is opened.\n            .pipe(filter(active => active === this._menuItemInstance && !active.disabled), delay(0, asapScheduler))\n            .subscribe(() => {\n            this._openedBy = 'mouse';\n            // If the same menu is used between multiple triggers, it might still be animating\n            // while the new trigger tries to re-open it. Wait for the animation to finish\n            // before doing so. Also interrupt if the user moves to another item.\n            if (this.menu instanceof _MatMenuBase && this.menu._isAnimating) {\n                // We need the `delay(0)` here in order to avoid\n                // 'changed after checked' errors in some cases. See #12194.\n                this.menu._animationDone\n                    .pipe(take(1), delay(0, asapScheduler), takeUntil(this._parentMaterialMenu._hovered()))\n                    .subscribe(() => this.openMenu());\n            }\n            else {\n                this.openMenu();\n            }\n        });\n    }\n    /** Gets the portal that should be attached to the overlay. */\n    _getPortal() {\n        // Note that we can avoid this check by keeping the portal on the menu panel.\n        // While it would be cleaner, we'd have to introduce another required method on\n        // `MatMenuPanel`, making it harder to consume.\n        if (!this._portal || this._portal.templateRef !== this.menu.templateRef) {\n            this._portal = new TemplatePortal(this.menu.templateRef, this._viewContainerRef);\n        }\n        return this._portal;\n    }\n}\nMatMenuTrigger.fac = function MatMenuTrigger_Factory(t) { return new (t || MatMenuTrigger)(ngcc0.directiveInject(ngcc4.Overlay), ngcc0.directiveInject(ngcc0.ElementRef), ngcc0.directiveInject(ngcc0.ViewContainerRef), ngcc0.directiveInject(MAT_MENU_SCROLL_STRATEGY), ngcc0.directiveInject(MAT_MENU_PANEL, 8), ngcc0.directiveInject(MatMenuItem, 10), ngcc0.directiveInject(ngcc5.Directionality, 8), ngcc0.directiveInject(ngcc1.FocusMonitor)); };\nMatMenuTrigger.dir = ngcc0.defineDirective({ type: MatMenuTrigger, selectors: [[\"\", \"mat-menu-trigger-for\", \"\"], [\"\", \"matMenuTriggerFor\", \"\"]], hostAttrs: [\"aria-haspopup\", \"true\", 1, \"mat-menu-trigger\"], hostVars: 2, hostBindings: function MatMenuTrigger_HostBindings(rf, ctx) { if (rf & 1) {\n        ngcc0.listener(\"mousedown\", function MatMenuTrigger_mousedown_HostBindingHandler($event) { return ctx._handleMousedown($event); })(\"keydown\", function MatMenuTrigger_keydown_HostBindingHandler($event) { return ctx._handleKeydown($event); })(\"click\", function MatMenuTrigger_click_HostBindingHandler($event) { return ctx._handleClick($event); });\n    } if (rf & 2) {\n        ngcc0.attribute(\"aria-expanded\", ctx.menuOpen || null)(\"aria-controls\", ctx.menuOpen ? ctx.menu.panelId : null);\n    } }, inputs: { restoreFocus: [\"matMenuTriggerRestoreFocus\", \"restoreFocus\"], _deprecatedMatMenuTriggerFor: [\"mat-menu-trigger-for\", \"_deprecatedMatMenuTriggerFor\"], menu: [\"matMenuTriggerFor\", \"menu\"], menuData: [\"matMenuTriggerData\", \"menuData\"] }, outputs: { menuOpened: \"menuOpened\", onMenuOpen: \"onMenuOpen\", menuClosed: \"menuClosed\", onMenuClose: \"onMenuClose\" }, exportAs: [\"matMenuTrigger\"] });\nMatMenuTrigger.ctorParameters = () => [\n    { type: Overlay },\n    { type: ElementRef },\n    { type: ViewContainerRef },\n    { type: undefined, decorators: [{ type: Inject, args: [MAT_MENU_SCROLL_STRATEGY,] }] },\n    { type: undefined, decorators: [{ type: Inject, args: [MAT_MENU_PANEL,] }, { type: Optional }] },\n    { type: MatMenuItem, decorators: [{ type: Optional }, { type: Self }] },\n    { type: Directionality, decorators: [{ type: Optional }] },\n    { type: FocusMonitor }\n];\nMatMenuTrigger.propDecorators = {\n    _deprecatedMatMenuTriggerFor: [{ type: Input, args: ['mat-menu-trigger-for',] }],\n    menu: [{ type: Input, args: ['matMenuTriggerFor',] }],\n    menuData: [{ type: Input, args: ['matMenuTriggerData',] }],\n    restoreFocus: [{ type: Input, args: ['matMenuTriggerRestoreFocus',] }],\n    menuOpened: [{ type: Output }],\n    onMenuOpen: [{ type: Output }],\n    menuClosed: [{ type: Output }],\n    onMenuClose: [{ type: Output }]\n};\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ngcc0.setClassMetadata(MatMenuTrigger, [{\n        type: Directive,\n        args: [{\n                selector: `[mat-menu-trigger-for], [matMenuTriggerFor]`,\n                host: {\n                    'class': 'mat-menu-trigger',\n                    'aria-haspopup': 'true',\n                    '[attr.aria-expanded]': 'menuOpen || null',\n                    '[attr.aria-controls]': 'menuOpen ? menu.panelId : null',\n                    '(mousedown)': '_handleMousedown($event)',\n                    '(keydown)': '_handleKeydown($event)',\n                    '(click)': '_handleClick($event)'\n                },\n                exportAs: 'matMenuTrigger'\n            }]\n    }], function () { return [{ type: ngcc4.Overlay }, { type: ngcc0.ElementRef }, { type: ngcc0.ViewContainerRef }, { type: undefined, decorators: [{\n                type: Inject,\n                args: [MAT_MENU_SCROLL_STRATEGY]\n            }] }, { type: undefined, decorators: [{\n                type: Inject,\n                args: [MAT_MENU_PANEL]\n            }, {\n                type: Optional\n            }] }, { type: MatMenuItem, decorators: [{\n                type: Optional\n            }, {\n                type: Self\n            }] }, { type: ngcc5.Directionality, decorators: [{\n                type: Optional\n            }] }, { type: ngcc1.FocusMonitor }]; }, { restoreFocus: [{\n            type: Input,\n            args: ['matMenuTriggerRestoreFocus']\n        }], menuOpened: [{\n            type: Output\n        }], onMenuOpen: [{\n            type: Output\n        }], menuClosed: [{\n            type: Output\n        }], onMenuClose: [{\n            type: Output\n        }], _deprecatedMatMenuTriggerFor: [{\n            type: Input,\n            args: ['mat-menu-trigger-for']\n        }], menu: [{\n            type: Input,\n            args: ['matMenuTriggerFor']\n        }], menuData: [{\n            type: Input,\n            args: ['matMenuTriggerData']\n        }] }); })();\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * Used by both the current `MatMenuModule` and the MDC `MatMenuModule`\n * to declare the menu-related directives.\n */\nclass _MatMenuDirectivesModule {\n}\n_MatMenuDirectivesModule.fac = function _MatMenuDirectivesModule_Factory(t) { return new (t || _MatMenuDirectivesModule)(); };\n_MatMenuDirectivesModule.mod = ngcc0.defineNgModule({ type: _MatMenuDirectivesModule });\n_MatMenuDirectivesModule.inj = ngcc0.defineInjector({ providers: [MAT_MENU_SCROLL_STRATEGY_FACTORY_PROVIDER], imports: [MatCommonModule] });\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ngcc0.setNgModuleScope(_MatMenuDirectivesModule, { declarations: function () { return [MatMenuTrigger, MatMenuContent]; }, exports: function () { return [MatMenuTrigger, MatMenuContent, MatCommonModule]; } }); })();\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ngcc0.setClassMetadata(_MatMenuDirectivesModule, [{\n        type: NgModule,\n        args: [{\n                exports: [MatMenuTrigger, MatMenuContent, MatCommonModule],\n                declarations: [\n                    MatMenuTrigger,\n                    MatMenuContent,\n                ],\n                providers: [MAT_MENU_SCROLL_STRATEGY_FACTORY_PROVIDER]\n            }]\n    }], null, null); })();\nclass MatMenuModule {\n}\nMatMenuModule.fac = function MatMenuModule_Factory(t) { return new (t || MatMenuModule)(); };\nMatMenuModule.mod = ngcc0.defineNgModule({ type: MatMenuModule });\nMatMenuModule.inj = ngcc0.defineInjector({ providers: [MAT_MENU_SCROLL_STRATEGY_FACTORY_PROVIDER], imports: [[\n            CommonModule,\n            MatCommonModule,\n            MatRippleModule,\n            OverlayModule,\n            _MatMenuDirectivesModule,\n        ], CdkScrollableModule, MatCommonModule, _MatMenuDirectivesModule] });\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ngcc0.setNgModuleScope(MatMenuModule, { declarations: function () { return [MatMenu, MatMenuItem]; }, imports: function () { return [CommonModule,\n        MatCommonModule,\n        MatRippleModule,\n        OverlayModule, _MatMenuDirectivesModule]; }, exports: function () { return [CdkScrollableModule, MatCommonModule, MatMenu, MatMenuItem, _MatMenuDirectivesModule]; } }); })();\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ngcc0.setClassMetadata(MatMenuModule, [{\n        type: NgModule,\n        args: [{\n                imports: [\n                    CommonModule,\n                    MatCommonModule,\n                    MatRippleModule,\n                    OverlayModule,\n                    _MatMenuDirectivesModule,\n                ],\n                exports: [CdkScrollableModule, MatCommonModule, MatMenu, MatMenuItem, _MatMenuDirectivesModule],\n                declarations: [MatMenu, MatMenuItem],\n                providers: [MAT_MENU_SCROLL_STRATEGY_FACTORY_PROVIDER]\n            }]\n    }], null, null); })();\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { MAT_MENU_CONTENT, MAT_MENU_DEFAULT_OPTIONS, MAT_MENU_PANEL, MAT_MENU_SCROLL_STRATEGY, MatMenu, MatMenuContent, MatMenuItem, MatMenuModule, MatMenuTrigger, _MatMenuBase, _MatMenuDirectivesModule, fadeInItems, matMenuAnimations, transformMenu, MAT_MENU_DEFAULT_OPTIONS_FACTORY as angular_material_src_material_menu_menu_a, MAT_MENU_SCROLL_STRATEGY_FACTORY as angular_material_src_material_menu_menu_b, MAT_MENU_SCROLL_STRATEGY_FACTORY_PROVIDER as angular_material_src_material_menu_menu_c };\n\n//# sourceMappingURL=menu.js.map","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'estudy-ui-footer',\n  templateUrl: './ui-footer.component.html',\n  styleUrls: ['./ui-footer.component.scss'],\n})\nexport class UiFooterComponent implements OnInit {\n  date: Date = new Date();\n\n  constructor(private router: Router) {}\n\n  ngOnInit(): void {}\n\n  redirectToAboutPage() {\n    this.router.navigate(['/about']);\n  }\n}\n","<footer\n  class=\"footer\"\n  fxLayout=\"row\"\n  fxLayoutAlign=\"space-between center\"\n  fxLayoutGap=\"15px\"\n>\n  <button mat-flat-button><div class=\"footer__version\">v 2.0.4</div></button>\n  <div class=\"footer__title\">\n    &copy; {{ date | date: \"yyyy\" }}&nbsp;&nbsp;eStudy |\n    <button mat-flat-button (click)=\"redirectToAboutPage()\">\n      <div class=\"footer__version\">Marcel Palko</div>\n    </button>\n  </div>\n</footer>\n","import {\n  Component,\n  OnInit,\n  OnDestroy,\n  ViewChild,\n  ElementRef,\n  HostListener,\n} from '@angular/core';\nimport { FormControl, FormGroup } from '@angular/forms';\nimport {\n  trigger,\n  style,\n  transition,\n  animate,\n  state,\n} from '@angular/animations';\nimport { Router, ActivatedRoute } from '@angular/router';\n\n/** RXJS */\nimport { combineLatest, interval, of, ReplaySubject } from 'rxjs';\nimport {\n  takeUntil,\n  delay,\n  tap,\n  switchMap,\n  mergeMap,\n  map,\n} from 'rxjs/operators';\n\n/** Types */\nimport { Product, STATUSES } from '../types/product';\nimport { User } from '../types/user';\nimport { AuthService } from '../services/auth.service';\nimport { UserService } from '../services/user.service';\nimport { ProductService } from '../services/product.service';\nimport { MatDialog } from '@angular/material/dialog';\nimport { FeatureItemCreationDialogComponent } from '../feature-components/feature-item-creation-dialog/feature-item-creation-dialog.component';\n\nconst ITEMS_COUNT_IN_ROW_BY_RESOLUTION = {\n  3040: 13,\n  2880: 10,\n  2560: 8,\n  2400: 8,\n  2133: 7,\n  1920: 6,\n  1745: 6,\n  1536: 5,\n  1280: 4,\n  1097: 3,\n  768: 2,\n  599: 3,\n  450: 4,\n};\n\n@Component({\n  selector: 'estudy-products-page',\n  templateUrl: './products-page.component.html',\n  styleUrls: ['./products-page.component.scss'],\n  animations: [\n    trigger('fadeIn', [\n      transition(':enter', [\n        style({ display: 'none', opacity: 0 }),\n        animate(\n          '300ms 150ms ease-out',\n          style({ display: 'block', opacity: 1 })\n        ),\n      ]),\n    ]),\n    trigger('fadeOut', [\n      transition(':enter', [\n        style({ opacity: 0 }),\n        animate('320ms 150ms ease-out', style({ opacity: 1 })),\n      ]),\n      transition(':leave', [\n        style({ opacity: 1 }),\n        animate('280ms 150ms ease-in', style({ opacity: 0 })),\n      ]),\n    ]),\n    trigger('rotate', [\n      state('LOW', style({ transform: 'rotate(0)' })),\n      state('HIGH', style({ transform: 'rotate(180deg)' })),\n      transition('open <=> closed', [animate('250ms')]),\n    ]),\n    trigger('fadeOutContainer', [\n      transition(':leave', [\n        style({ opacity: 1 }),\n        animate('280ms 150ms ease-in', style({ opacity: 0 })),\n      ]),\n    ]),\n  ],\n})\nexport class ProductsPageComponent implements OnInit, OnDestroy {\n  @ViewChild('productsContainer') productsContainer: ElementRef;\n  @ViewChild('viewContainer') viewContainer: ElementRef;\n  @ViewChild('categorySearchElement', { static: false })\n  categorySearchElement: ElementRef;\n\n  onWindowScroll(event) {\n    const actualPosition = event.scrollTop;\n    const max = event.offsetHeight;\n\n    this.showMenu =\n      this.previousPosition > actualPosition - 2 && !this.loadMore;\n\n    if (actualPosition === 0) {\n      this.showMenu = true;\n      this.showScrollButton = false;\n    }\n\n    if (\n      this.previousPosition <= actualPosition &&\n      actualPosition > max - 800 &&\n      !this.loadMore\n    ) {\n      this.loadMore = true;\n      this.showScrollButton = true;\n      this.showMoreProducts();\n    }\n\n    this.previousPosition = actualPosition;\n  }\n\n  private productIsClicked: boolean = true;\n  private loadMore: boolean = false;\n  loaded: boolean = false;\n  aplicationNeedReload: boolean = false;\n  showScrollButton: boolean = false;\n  showMenu: boolean = true;\n  showIntroContainer: boolean = sessionStorage.getItem('alreadyVisited')\n    ? false\n    : true;\n  useMobileView: boolean = false;\n\n  form: FormGroup = new FormGroup({\n    search: new FormControl(''),\n  });\n\n  categorySearch = new FormControl('');\n\n  activeFilters: { search: string; category: string } = {\n    search: '',\n    category: '',\n  };\n  activeCategoriesCount: number = 5;\n\n  sortBy: string = 'HIGH';\n  lastChange: string = '';\n\n  products: Product[] = [];\n  favouriteProducts: Product[] = [];\n\n  categories: string[] = [];\n  loggedUser: User | null;\n\n  countOfShowedProducts: number = 0;\n  private previousPosition: number = 0;\n  private INTRO_DELAY_TIMER: number = 0;\n\n  @HostListener('window:resize', ['$event'])\n  onResize(event) {\n    this.useMobileView = event.target.innerWidth <= 1024;\n  }\n\n  get allProducts() {\n    this.activeFilters.search = this.form.get('search').value.toLowerCase();\n    let products = this.sortProductsByDate();\n\n    if (\n      Object.values(this.activeFilters).every(\n        (value: string) => value.length <= 0\n      )\n    ) {\n      return products;\n    }\n\n    if (this.activeFilters.category.length > 0) {\n      const activeCategories = this.activeFilters.category.split('|');\n\n      products = this.products.filter((product) =>\n        activeCategories.some((category) =>\n          product.categories\n            .map((pCat) => pCat.toLocaleLowerCase())\n            .includes(category.toLocaleLowerCase())\n        )\n      );\n    }\n\n    if (this.activeFilters.search.length > 0) {\n      products = products.filter((product) =>\n        product.title.toLowerCase().includes(this.activeFilters.search)\n      );\n    }\n\n    return products;\n  }\n\n  get filteredCategories() {\n    const searchValue = this.categorySearch.value.toLocaleLowerCase();\n\n    if (searchValue.length > 0) {\n      return this.categories.filter(\n        (category, index) =>\n          category.toLocaleLowerCase().startsWith(searchValue) &&\n          index >= this.activeCategoriesCount\n      );\n    }\n\n    return this.categories.slice(this.activeCategoriesCount);\n  }\n\n  sortProductsByDate(): Product[] {\n    const sortedItems = this.products.sort((a, b) =>\n      a.createdAt.localeCompare(b.createdAt)\n    );\n\n    if (this.sortBy === 'LOW') {\n      return sortedItems;\n    }\n\n    return sortedItems.reverse();\n  }\n\n  private unsubscribe: ReplaySubject<void> = new ReplaySubject<void>();\n  private refresh: ReplaySubject<void> = new ReplaySubject<void>();\n\n  constructor(\n    private router: Router,\n    private activatedRoute: ActivatedRoute,\n    private authService: AuthService,\n    private userService: UserService,\n    private productService: ProductService,\n    private dialog: MatDialog\n  ) {}\n\n  ngOnInit(): void {\n    this.loggedUser = this.authService.getUser() || null;\n    const idParam = `_id=${this.loggedUser?._id}`;\n\n    if (!sessionStorage.getItem('alreadyVisited')) {\n      sessionStorage.setItem('alreadyVisited', 'TRUE');\n      this.INTRO_DELAY_TIMER = 4000;\n    }\n\n    this.refresh.next();\n    this.refresh\n      .pipe(\n        delay(this.INTRO_DELAY_TIMER),\n        tap(() => (this.showIntroContainer = false)),\n        switchMap(() =>\n          combineLatest([\n            this.productService.getProducts(),\n            this.productService.getLastChange(),\n            this.loggedUser ? this.userService.getUsers(idParam) : of(null),\n          ])\n        ),\n        map(([products, dbInformation, users]) => {\n          this.lastChange = dbInformation.productsLastChange;\n\n          if (users) {\n            this.authService.removeUser();\n            this.authService.setUser(users[0]);\n            this.userService.userPropertiesChanged$.next(users[0]);\n          }\n\n          return products || [];\n        }),\n        takeUntil(this.unsubscribe)\n      )\n      .subscribe((products) => {\n        this.useMobileView = window.innerWidth <= 1024;\n\n        if (products?.length > 0) {\n          if (this.loggedUser) {\n            this.favouriteProducts = [...this.loggedUser.favouriteProducts];\n\n            this.favouriteProducts.forEach((product) => {\n              this.products = this.products.map((item) => {\n                if (item._id === product._id) {\n                  return { ...item, isFavourite: true };\n                } else {\n                  return item;\n                }\n              });\n            });\n          }\n\n          this.products = products.map((item) => {\n            const favourite =\n              this.favouriteProducts.findIndex(\n                (favItem) => favItem._id === item._id\n              ) >= 0\n                ? true\n                : false;\n\n            return { ...item, isFavourite: favourite };\n          });\n\n          this.countOfShowedProducts =\n            products.length > this.itemsCountOnLoad()\n              ? this.itemsCountOnLoad()\n              : products.length;\n        }\n\n        let categoriesWithFreq = [];\n        const arrayCategories: string[] = [].concat.apply(\n          [],\n          this.products.map((product) =>\n            product.categories.map((category) => category.trim())\n          )\n        );\n\n        [...new Set(arrayCategories)].forEach((cat) => {\n          categoriesWithFreq.push({\n            key: cat,\n            count: arrayCategories.filter((item) => item === cat).length,\n          });\n        });\n        categoriesWithFreq.sort((a, b) => b.count - a.count);\n\n        this.categories = [\n          ...categoriesWithFreq.map((i) =>\n            arrayCategories.find((j) => j === i.key)\n          ),\n        ];\n\n        this.loaded = true;\n      });\n\n    this.form.valueChanges\n      .pipe(takeUntil(this.unsubscribe))\n      .subscribe((change) => {\n        if (change) {\n          this.countOfShowedProducts = this.allProducts.length;\n        }\n      });\n\n    interval(90000)\n      .pipe(\n        mergeMap(() => this.productService.getLastChange()),\n        map(\n          (item: { _id: string; productsLastChange: string }) =>\n            item.productsLastChange || ''\n        ),\n        takeUntil(this.unsubscribe)\n      )\n      .subscribe((productsLastChange) => {\n        if (this.lastChange !== productsLastChange) {\n          this.lastChange = productsLastChange;\n          this.aplicationNeedReload = true;\n        }\n      });\n  }\n\n  getStatus(productStatus: string) {\n    return STATUSES.find((s) => s.type === productStatus);\n  }\n\n  getRowItemsCount() {\n    const windowWidth = +window.innerWidth;\n    const closestRes = Object.keys(ITEMS_COUNT_IN_ROW_BY_RESOLUTION).reduce(\n      (prev, current) => {\n        return Math.abs(+current - windowWidth) < Math.abs(+prev - +windowWidth)\n          ? current\n          : prev;\n      }\n    );\n\n    return ITEMS_COUNT_IN_ROW_BY_RESOLUTION[closestRes];\n  }\n\n  addToActiveCategories(category: string) {\n    const categoryPosition = this.categories.findIndex(\n      (cat) => cat === category\n    );\n\n    this.categories.splice(categoryPosition, 1);\n    this.categories.splice(this.activeCategoriesCount, 0, category);\n\n    this.activeCategoriesCount++;\n    this.toggleActiveCategory(category);\n  }\n\n  toggleActiveCategory(category: string): void {\n    if (!this.activeFilters.category.includes(category)) {\n      this.activeFilters.category += `${category}|`;\n    } else {\n      const categoryPosition = this.categories.findIndex(\n        (cat) => cat === category\n      );\n      this.activeFilters.category = this.activeFilters.category.replace(\n        `${category}|`,\n        ''\n      );\n\n      this.categories.splice(categoryPosition, 1);\n      this.categories.splice(this.categories.length, 0, category);\n      this.activeCategoriesCount -= this.activeCategoriesCount === 5 ? 0 : 1;\n    }\n\n    this.countOfShowedProducts = this.allProducts.length;\n  }\n\n  clearActiveCategories() {\n    this.activeFilters.category = '';\n    this.activeCategoriesCount = 5;\n    this.showMoreProducts(true);\n  }\n\n  menuOpened() {\n    /** This is not a good practise cuz we break angular-lifecycle => #Refactor */\n    setTimeout(() => {\n      this.categorySearchElement.nativeElement.focus();\n    }, 0);\n  }\n\n  menuClosed() {\n    this.categorySearch.setValue('');\n  }\n\n  toggleSort(): void {\n    this.sortBy = this.sortBy === 'LOW' ? 'HIGH' : 'LOW';\n  }\n\n  toggleFavourite(product: Product): void {\n    if (this.loggedUser && product.userId !== this.loggedUser?._id) {\n      this.productIsClicked = false;\n      product.isFavourite = !product.isFavourite;\n\n      if (\n        this.favouriteProducts.map((item) => item._id).includes(product._id)\n      ) {\n        this.favouriteProducts = this.favouriteProducts.filter(\n          (item) => item._id !== product._id\n        );\n      } else {\n        this.favouriteProducts.push(product);\n      }\n\n      this.userService\n        .patchUser(this.loggedUser._id, {\n          favouriteProducts: [...this.favouriteProducts],\n        })\n        .pipe(takeUntil(this.unsubscribe))\n        .subscribe((user) => {\n          if (user) this.loggedUser = user;\n        });\n\n      this.loggedUser = {\n        ...this.loggedUser,\n        favouriteProducts: [...this.favouriteProducts],\n      };\n      this.userService.userPropertiesChanged$.next(this.loggedUser);\n      this.authService.removeUser();\n      this.authService.setUser(this.loggedUser);\n    }\n  }\n\n  /**\n   * @param range Takes range for counter\n   * @returns Array of numbers for HTML cycle for loop\n   */\n  cycleFor(range: number): number[] {\n    return range > 0 ? Array(range).map((x, i) => i) : [];\n  }\n\n  itemsCountOnLoad() {\n    const countLine = this.getRowItemsCount();\n    const countLoad =\n      Math.ceil(this.productsContainer.nativeElement.offsetHeight / 370) *\n      countLine;\n\n    return countLoad;\n  }\n\n  claculateRestOfCards(spacer?: boolean): number {\n    const itemsCountToLine = this.getRowItemsCount();\n    const rowsCount = Math.ceil(this.countOfShowedProducts / itemsCountToLine);\n    const loadCount = rowsCount * itemsCountToLine - this.countOfShowedProducts;\n\n    if (\n      spacer &&\n      this.countOfShowedProducts !== this.products.length &&\n      this.countOfShowedProducts !== 0\n    ) {\n      return itemsCountToLine * rowsCount - this.countOfShowedProducts;\n    }\n\n    return loadCount === 0 && this.loadMore ? itemsCountToLine : loadCount;\n  }\n\n  private clickedOnCard(targetElement: any): boolean {\n    return (\n      targetElement.tagName !== 'I' &&\n      targetElement.className !== 'card__favourite'\n    );\n  }\n\n  openProductDetail(id: string, event: any) {\n    if (this.clickedOnCard(event.target)) {\n      this.productIsClicked = true;\n      setTimeout(() => {\n        if (this.productIsClicked) {\n          this.router.navigate([id], { relativeTo: this.activatedRoute });\n        }\n      }, 250);\n    }\n  }\n\n  loggedOut(event: boolean) {\n    if (event) {\n      this.loaded = false;\n      this.loggedUser = null;\n      this.favouriteProducts = [];\n      window.location.reload();\n    }\n  }\n\n  createdProduct(event: boolean) {\n    if (event) {\n      this.aplicationNeedReload = false;\n      this.reloadPage();\n    }\n  }\n\n  showMoreProducts(startLoad?: boolean) {\n    setTimeout(() => {\n      this.countOfShowedProducts += startLoad\n        ? this.itemsCountOnLoad()\n        : this.claculateRestOfCards();\n      this.loadMore = false;\n\n      if (this.countOfShowedProducts >= this.products.length) {\n        this.countOfShowedProducts = this.products.length;\n      }\n    }, 1000);\n  }\n\n  reloadPage() {\n    this.scrollTop();\n    this.loaded = false;\n    this.refresh.next();\n    this.aplicationNeedReload = false;\n  }\n\n  scrollTop() {\n    this.viewContainer.nativeElement.scrollTo({ top: 0, behavior: 'smooth' });\n    this.showScrollButton = false;\n  }\n\n  openCreationDialog() {\n    if (this.loggedUser) {\n      const dialogRef = this.dialog.open(FeatureItemCreationDialogComponent, {\n        height: '80vh',\n        width: '70vw',\n      });\n\n      dialogRef.afterClosed().subscribe((event) => {\n        this.refresh.next(event);\n      });\n    } else {\n      this.router.navigate(['/login']);\n    }\n  }\n\n  onImageLoad(evt, index) {\n    if (evt && evt.target) {\n      this.products[index]['loaded'] = true;\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.unsubscribe.next();\n    this.unsubscribe.complete();\n  }\n}\n","<div fxLayout=\"column\" class=\"main-content\">\n  <ng-container\n    *ngIf=\"showIntroContainer\"\n    [ngTemplateOutlet]=\"showIntro\"\n  ></ng-container>\n\n  <estudy-ui-header\n    [form]=\"form\"\n    (loggedOut)=\"loggedOut($event)\"\n    (createdProduct)=\"createdProduct($event)\"\n    [ngStyle]=\"{ top: showMenu ? '0px' : '-205px' }\"\n  ></estudy-ui-header>\n  <div\n    class=\"content\"\n    [class.content--spacing]=\"!showScrollButton && !useMobileView\"\n    fxLayout=\"column\"\n    (scroll)=\"onWindowScroll($event.target)\"\n    #viewContainer\n  >\n    <div fxLayout=\"column\" class=\"page-quote\">\n      <h1>Hledm uebnice nebo materily</h1>\n      <h1>co <b>nejsnadnji</b>...</h1>\n    </div>\n    <div\n      fxLayout.xs=\"column\"\n      fxLayoutAlign=\"space-between end\"\n      fxLayoutGap=\"30px\"\n      fxLayoutGap.xs=\"0\"\n      class=\"filters\"\n    >\n      <ng-container *ngIf=\"loaded; else filtersGhostLoading\">\n        <div\n          fxFlex.xs=\"1 1 100%\"\n          fxFlex=\"1 1 50%\"\n          fxLayout=\"row wrap\"\n          fxLayout.xs=\"row\"\n          fxLayoutAlign=\"start end\"\n          fxLayoutGap=\"20px\"\n        >\n          <mat-chip\n            *ngFor=\"let category of categories | slice: 0:activeCategoriesCount\"\n            color=\"primary\"\n            class=\"chip\"\n            [class.chip--active]=\"activeFilters.category.includes(category)\"\n            (click)=\"toggleActiveCategory(category)\"\n            ><ng-container *ngIf=\"activeFilters.category.includes(category)\"\n              ><i class=\"fas fa-check\"></i></ng-container\n            >{{ category }}\n          </mat-chip>\n          <button\n            mat-flat-button\n            (menuOpened)=\"menuOpened()\"\n            (menuClosed)=\"menuClosed()\"\n            [matMenuTriggerFor]=\"menu\"\n            class=\"black\"\n          >\n            Zobrazit vce\n          </button>\n          <button\n            *ngIf=\"activeFilters.category.length > 0\"\n            mat-flat-button\n            (click)=\"clearActiveCategories()\"\n            class=\"warn\"\n          >\n            Vypnout vybran Kategorie\n          </button>\n          <mat-menu #menu=\"matMenu\" yPosition=\"below\" [overlapTrigger]=\"true\">\n            <div class=\"menu-content\" fxLayout=\"column\">\n              <input\n                #categorySearchElement\n                type=\"text\"\n                [formControl]=\"categorySearch\"\n                (click)=\"$event.stopPropagation()\"\n                (keypress)=\"$event.stopPropagation()\"\n              />\n              <div class=\"menu-content__categories\">\n                <button\n                  mat-menu-item\n                  (click)=\"addToActiveCategories(category)\"\n                  *ngFor=\"let category of filteredCategories\"\n                >\n                  {{ category }}\n                </button>\n              </div>\n            </div>\n          </mat-menu>\n        </div>\n\n        <div\n          fxLayout=\"row\"\n          fxLayoutAlign=\"start center\"\n          fxLayoutAlign.xs=\"space-between center\"\n          fxLayoutGap=\"30px\"\n        >\n          <div\n            fxFlex.xs=\"0 0 45%\"\n            fxLayout=\"row\"\n            fxLayoutAlign=\"start center\"\n            fxLayoutAlign.xs=\"center center\"\n            class=\"filters__sort\"\n            (click)=\"toggleSort()\"\n          >\n            Datum vloen:\n            <i class=\"fas fa-long-arrow-alt-up\" [@rotate]=\"sortBy\"></i>\n          </div>\n          <div fxFlex.xs=\"0 0 50%\" class=\"filters__items-count\">\n            <div>\n              Zobrazeno <b>{{ countOfShowedProducts }}</b> produkt\n            </div>\n          </div>\n        </div>\n      </ng-container>\n    </div>\n    <div\n      fxLayout=\"row wrap\"\n      fxLayoutAlign=\"space-between start\"\n      class=\"body\"\n      #productsContainer\n    >\n      <ng-container *ngIf=\"loaded; else productsGhostLoading\">\n        <ng-container *ngIf=\"allProducts.length > 0; else itemsNotFound\">\n          <ng-container\n            *ngFor=\"\n              let product of allProducts | slice: 0:countOfShowedProducts;\n              let i = index\n            \"\n          >\n            <mat-card\n              fxLayout=\"column\"\n              fxLayoutAlign=\"space-between center\"\n              class=\"card\"\n              (dblclick)=\"toggleFavourite(product)\"\n              (click)=\"openProductDetail(product._id, $event)\"\n              [@fadeOut]\n            >\n              <img\n                height=\"180px\"\n                loading=\"lazy\"\n                [src]=\"product.images[0]\"\n                (load)=\"onImageLoad($event, i)\"\n              />\n              <ng-container\n                *ngIf=\"!product?.loaded\"\n                [ngTemplateOutlet]=\"imageRendering\"\n              ></ng-container>\n              <div\n                class=\"card__favourite\"\n                fxLayout=\"row\"\n                fxLayoutAlign=\"center center\"\n                (click)=\"toggleFavourite(product)\"\n                *ngIf=\"loggedUser && product.userId !== loggedUser?._id\"\n              >\n                <i\n                  [class]=\"\n                    product.isFavourite ? 'fas fa-heart' : 'far fa-heart'\n                  \"\n                  [class.card__favourite--isFavourite]=\"product.isFavourite\"\n                ></i>\n              </div>\n              <div\n                class=\"card__status\"\n                [matTooltip]=\"getStatus(product.status).tooltip\"\n                matTooltipPosition=\"below\"\n                fxLayout=\"row\"\n                fxLayoutAlign=\"center center\"\n                *ngIf=\"\n                  loggedUser &&\n                  product.userId !== loggedUser?._id &&\n                  product?.status\n                \"\n              >\n                <i\n                  [class]=\"getStatus(product.status).icon\"\n                  [ngClass]=\"\n                    getStatus(product.status).type === 'ACTIVE'\n                      ? 'card__status--communication'\n                      : 'card__status--sold'\n                  \"\n                ></i>\n              </div>\n              <div>\n                {{\n                  useMobileView && product.title.length > 10\n                    ? product.title.slice(0, 10) + \"...\"\n                    : product.title\n                }}\n              </div>\n              <div>{{ product.createdAt | date: \"shortDate\" }}</div>\n              <div\n                class=\"card__categories\"\n                fxLayout=\"column\"\n                fxLayoutAlign=\"end stretch\"\n              >\n                <small>Kategorie:</small>\n                <mat-chip-list fxLayout.xs=\"row\">\n                  <mat-chip\n                    color=\"primary\"\n                    class=\"chip black\"\n                    (click)=\"openProductDetail(product._id, $event)\"\n                  >\n                    {{ product.categories[0] }}\n                  </mat-chip>\n                  <ng-container\n                    *ngIf=\"\n                      product.categories.length > 1 &&\n                      (!useMobileView || product.categories[0].length < 9)\n                    \"\n                  >\n                    <mat-chip\n                      color=\"primary\"\n                      class=\"chip black\"\n                      (click)=\"openProductDetail(product._id, $event)\"\n                      >{{ product.categories.length - 1 }} DAL...</mat-chip\n                    >\n                  </ng-container>\n                </mat-chip-list>\n              </div>\n            </mat-card>\n          </ng-container>\n          <ng-container\n            *ngFor=\"let blankCard of cycleFor(claculateRestOfCards(true))\"\n          >\n            <ng-container *ngIf=\"!loadMore; else cardGhostLoading\">\n              <mat-card\n                fxLayout=\"column\"\n                fxLayoutAlign=\"space-between center\"\n                class=\"card hidden\"\n              >\n              </mat-card>\n            </ng-container>\n          </ng-container>\n        </ng-container>\n      </ng-container>\n    </div>\n\n    <div\n      class=\"notification-container\"\n      fxLayout=\"row\"\n      fxLayout.xs=\"row wrap\"\n      fxLayoutAlign=\"start end\"\n      fxLayoutAlign.xs=\"end end\"\n      fxLayoutGap=\"20px\"\n    >\n      <ng-container\n        *ngIf=\"aplicationNeedReload\"\n        [ngTemplateOutlet]=\"reloadCard\"\n      ></ng-container>\n      <ng-container *ngIf=\"useMobileView\" [ngTemplateOutlet]=\"addButton\">\n      </ng-container>\n      <ng-container\n        *ngIf=\"showScrollButton\"\n        [ngTemplateOutlet]=\"scrollToTop\"\n      ></ng-container>\n    </div>\n  </div>\n  <estudy-ui-footer></estudy-ui-footer>\n</div>\n\n<ng-template #showIntro>\n  <div\n    class=\"eStudy-intro\"\n    fxLayout=\"row\"\n    fxLayoutAlign=\"center start\"\n    [@fadeOutContainer]\n  >\n    <img src=\"../../assets/imgs/infinite-loader.gif\" />\n    <h1>eStudy</h1>\n  </div>\n</ng-template>\n\n<ng-template #itemsNotFound>\n  <h1 class=\"center-self\" [@fadeIn]>\n    Poloky s nzvem <b>{{ form[\"controls\"][\"search\"].value }}</b> nebyly\n    nalezeny\n  </h1>\n</ng-template>\n\n<ng-template #filtersGhostLoading>\n  <div fxLayout=\"row wrap\" fxLayout.xs=\"row\" fxLayoutGap=\"20px\">\n    <ng-container *ngFor=\"let num of cycleFor(4)\">\n      <div class=\"ghost-loading__filter\"></div>\n    </ng-container>\n  </div>\n  <div fxLayout=\"row\" fxLayoutGap=\"20px\">\n    <ng-container *ngFor=\"let num of cycleFor(2)\">\n      <div class=\"ghost-loading__filter\"></div>\n    </ng-container>\n  </div>\n</ng-template>\n\n<ng-template #productsGhostLoading>\n  <ng-container *ngFor=\"let num of cycleFor(getRowItemsCount())\">\n    <ng-container [ngTemplateOutlet]=\"cardGhostLoading\"></ng-container>\n  </ng-container>\n</ng-template>\n\n<ng-template #cardGhostLoading>\n  <mat-card fxLayout=\"column\" fxLayoutAlign=\"space-between center\" class=\"card\">\n    <div class=\"ghost-loading__card-img\"></div>\n    <div class=\"ghost-loading__card-title\"></div>\n    <div class=\"ghost-loading__card-timestamp\"></div>\n    <div class=\"ghost-loading__filter\"></div>\n  </mat-card>\n</ng-template>\n\n<ng-template #imageRendering>\n  <div class=\"rendering\" [@fadeOutContainer]>\n    <div class=\"ghost-loading__card-img\">&nbsp;</div>\n  </div>\n</ng-template>\n\n<ng-template #reloadCard>\n  <mat-card\n    class=\"reload-card\"\n    fxLayout=\"row\"\n    fxLayoutAlign=\"space-between center\"\n    [@fadeOut]\n  >\n    <i class=\"fas fa-info-circle\"></i>\n    <div>Aplikace potebuje obnovit</div>\n    <button mat-flat-button (click)=\"reloadPage()\">Obnovit</button>\n  </mat-card>\n</ng-template>\n\n<ng-template #scrollToTop>\n  <mat-card class=\"scroll-top-button\" [@fadeOut] (click)=\"scrollTop()\">\n    <i class=\"fas fa-arrow-alt-circle-up\"></i>\n  </mat-card>\n</ng-template>\n\n<ng-template #addButton>\n  <mat-card class=\"scroll-top-button\" [@fadeOut] (click)=\"openCreationDialog()\">\n    <i class=\"fas fa-plus\"></i>\n  </mat-card>\n</ng-template>\n","import {\n  Component,\n  OnInit,\n  OnDestroy,\n  ViewChild,\n  ElementRef,\n  HostListener,\n} from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\n\n/** Types */\nimport { Product, STATUSES } from '../types/product';\nimport { ProductService } from '../services/product.service';\nimport { HttpParams } from '@angular/common/http';\nimport {\n  takeUntil,\n  delay,\n  mergeMap,\n  map,\n  skipWhile,\n  catchError,\n} from 'rxjs/operators';\nimport { combineLatest, of, ReplaySubject, interval, Observable } from 'rxjs';\nimport { UserService } from '../services/user.service';\nimport { User } from '../types/user';\nimport { AuthService } from '../services/auth.service';\nimport { Chat } from '../types/chat';\nimport { ChatService } from '../services/chat.service';\nimport { FormControl } from '@angular/forms';\nimport { animate, trigger, transition, style } from '@angular/animations';\nimport { MatDialog } from '@angular/material/dialog';\nimport { FeatureItemCreationDialogComponent } from '../feature-components/feature-item-creation-dialog/feature-item-creation-dialog.component';\n\n@Component({\n  selector: 'estudy-product-detail-page',\n  templateUrl: './product-detail-page.component.html',\n  styleUrls: ['./product-detail-page.component.scss'],\n  animations: [\n    trigger('fadeOutContainer', [\n      transition(':leave', [\n        style({ opacity: 1 }),\n        animate('280ms 150ms ease-in', style({ opacity: 0 })),\n      ]),\n    ]),\n  ],\n})\nexport class ProductDetailPageComponent implements OnInit, OnDestroy {\n  id: string;\n  product: Product;\n  author: User;\n  loggedUser: User = this.authService.getUser();\n  messageField: FormControl = new FormControl('');\n\n  selectedImage: number = 0;\n  imagesLoaded: boolean = false;\n  loaded: boolean = false;\n  showScrollButton: boolean = false;\n  statusChanged: boolean = false;\n  useMobileView: boolean = false;\n\n  chats: Chat[] = [];\n  activeChat: number = 0;\n  chatUsers: User[] = [];\n\n  selectedStatus: number = -1;\n  imagesLoadedCount: number = 0;\n\n  @HostListener('window:resize', ['$event'])\n  onResize(event) {\n    this.useMobileView = event.target.innerWidth <= 1279;\n  }\n\n  @ViewChild('chatContainer') chatContainer: ElementRef;\n  private unsubscribe: ReplaySubject<void> = new ReplaySubject<void>();\n  private messageStateBuffer: ReplaySubject<Chat> = new ReplaySubject<Chat>();\n\n  constructor(\n    private route: ActivatedRoute,\n    private productService: ProductService,\n    private userService: UserService,\n    private authService: AuthService,\n    private chatService: ChatService,\n    private dialog: MatDialog,\n    private router: Router\n  ) {\n    this.id = this.route.snapshot.paramMap.get('id');\n  }\n\n  ngOnInit(): void {\n    this.useMobileView = window.innerWidth <= 1279;\n    const idParam = new HttpParams().set('_id', this.id);\n    this.productService\n      .getProducts(idParam)\n      .pipe(\n        mergeMap((product) => {\n          if (product) {\n            this.product = product[0];\n            this.selectedStatus = STATUSES.findIndex(\n              (status) => status.type === this.product.status\n            );\n\n            return this.chatService\n              .getChats(product[0]._id)\n              .pipe(catchError((err) => of(null)));\n          } else {\n            return of(null);\n          }\n        }),\n        mergeMap((chats) => {\n          let userIdsParam = `_id=${this.product.userId}`;\n\n          if (chats) {\n            chats.forEach((chat) => {\n              this.chats.push(chat);\n\n              userIdsParam += `&_id=${\n                chat.userIds.filter(\n                  (user) => user._id !== this.product.userId\n                )[0]\n              }`;\n            });\n          }\n\n          return this.userService.getUsers(userIdsParam);\n        }),\n        takeUntil(this.unsubscribe)\n      )\n      .subscribe((users) => {\n        this.author = users.find((user) => user._id === this.product.userId);\n        this.chatUsers = users.filter((user) => user._id !== this.author._id);\n\n        if (\n          this.chats.length > 0 &&\n          this.getUnreadMessages(this.activeChat) > 0\n        ) {\n          this.messageStateBuffer.next(this.chats[this.activeChat]);\n        }\n\n        /** This is not a good practise cuz we break angular-lifecycle => #Refactor */\n        setTimeout(() => this.scrollToBottom());\n\n        this.loaded = true;\n      });\n\n    interval(1000)\n      .pipe(\n        skipWhile(() => !this.loaded || this.chats.length === 0),\n        mergeMap(() => {\n          const listOfChats: Observable<any>[] = [];\n          this.chats.map((chat) =>\n            listOfChats.push(this.chatService.getChatState(chat._id))\n          );\n\n          return combineLatest(listOfChats);\n        }),\n        map((chats) => {\n          return [].concat.apply(\n            [],\n            chats.map((chat) => chat)\n          );\n        }),\n        takeUntil(this.unsubscribe)\n      )\n      .subscribe((chats) => {\n        chats.forEach((chat, index) => {\n          if (this.chats[index].changedDate !== chat.changedDate) {\n            this.chats[index] = {\n              ...this.chats[index],\n              messages: chat.messages.map((message) => {\n                return {\n                  ...message,\n                  //text: this.constructUrlFromMessage(message.text),\n                };\n              }),\n              changedDate: chat.changedDate,\n            };\n\n            if (chat._id === this.chats[this.activeChat]._id) {\n              this.messageStateBuffer.next(chat);\n            }\n\n            /** This is not a good practise cuz we break angular-lifecycle => #Refactor */\n            setTimeout(() => this.scrollToBottom());\n          }\n        });\n      });\n\n    this.messageStateBuffer\n      .pipe(\n        map((chat) => {\n          chat.messages.map((message) => (message.status = 'READ'));\n\n          return chat;\n        }),\n        mergeMap((chat) => this.chatService.patchChat(chat._id, chat)),\n        takeUntil(this.unsubscribe)\n      )\n      .subscribe((updatedChat) => {\n        this.chats.find((chat) => chat._id === updatedChat._id).messages =\n          updatedChat.messages;\n      });\n  }\n\n  showImage(index: number): void {\n    this.selectedImage = index;\n  }\n\n  getUser(id: string) {\n    if (id === this.loggedUser._id) {\n      return this.loggedUser;\n    }\n\n    const userInActiveChat = id\n      ? id\n      : this.chats[this.activeChat].userIds.filter(\n          (id) => id !== this.product.userId\n        )[0];\n\n    return this.chatUsers.find((user) => user._id === userInActiveChat);\n  }\n\n  getUnreadMessages(index: number) {\n    return this.chats[index].messages.filter(\n      (message) =>\n        message.status === 'CREATED' && message.authorId !== this.author._id\n    ).length;\n  }\n\n  getStatuses() {\n    if (this.loggedUser && this.product.userId === this.loggedUser._id) {\n      return STATUSES;\n    } else {\n      return STATUSES.filter((item, index) => index === this.selectedStatus);\n    }\n  }\n\n  openEditDialog() {\n    const dialogRef = this.dialog.open(FeatureItemCreationDialogComponent, {\n      height: '80vh',\n      width: '70vw',\n      data: this.product,\n    });\n\n    dialogRef.afterClosed().subscribe((product) => {\n      if (product) {\n        this.product = product;\n      }\n    });\n  }\n\n  selectChat(user: User) {\n    this.activeChat =\n      this.chats.findIndex((chat) => chat.userIds.includes(user._id)) || 0;\n\n    if (this.getUnreadMessages(this.activeChat) > 0) {\n      this.messageStateBuffer.next(this.chats[this.activeChat]);\n    }\n\n    /** This is not a good practise cuz we break angular-lifecycle => #Refactor */\n    setTimeout(() => this.scrollToBottom());\n    this.showScrollButton = false;\n  }\n\n  showScrollToBottom(event) {\n    if (event.scrollTop + 20 < this.chatContainer.nativeElement.offsetHeight) {\n      this.showScrollButton = true;\n    } else {\n      this.showScrollButton = false;\n    }\n  }\n\n  scrollToBottom() {\n    try {\n      this.chatContainer.nativeElement.scrollTop =\n        this.chatContainer.nativeElement.scrollHeight * 999;\n    } catch (err) {}\n\n    this.showScrollButton = false;\n  }\n\n  setStatusToProduct(index: number) {\n    if (this.product.userId === this.loggedUser._id) {\n      this.selectedStatus = index;\n      const product = {\n        ...this.product,\n        status: STATUSES[this.selectedStatus].type,\n        images: this.product.images.map((image) =>\n          image.replace(this.productService.AWS_URL, '')\n        ),\n      };\n\n      this.productService\n        .patchProduct(this.product._id, product)\n        .pipe(takeUntil(this.unsubscribe))\n        .subscribe((updatedProduct) => {\n          this.product = {\n            ...updatedProduct,\n            images: updatedProduct.images.map(\n              (image) => `${this.productService.AWS_URL}${image}`\n            ),\n          };\n\n          this.statusChanged = true;\n          setTimeout(() => {\n            this.statusChanged = false;\n          }, 2000);\n        });\n    }\n  }\n\n  constructUrlFromMessage(message: string) {\n    let match = message.match(\n      /(\\b(https?|ftp|file):\\/\\/[-A-Z0-9+&@#\\/%?=~_|!:,.;]*[-A-Z0-9+&@#\\/%=~_|])/gi\n    );\n    let formatedmessage = message;\n\n    match?.map((url) => {\n      formatedmessage = formatedmessage.replace(\n        url,\n        '<a href=\"' + url + '\" target=\"_BLANK\">' + url + '</a>'\n      );\n    });\n\n    return formatedmessage;\n  }\n\n  destructFromMessage(message: string) {\n    const match =\n      /(\\b(https?|ftp|file):\\/\\/[-A-Z0-9+&@#\\/%?=~_|!:,.;]*[-A-Z0-9+&@#\\/%=~_|])/gi;\n\n    const destructed = message.match(match)?.[1] || message;\n\n    return destructed;\n  }\n\n  sendMessage() {\n    if (!this.loggedUser) {\n      this.router.navigate(['/login']);\n\n      return;\n    }\n\n    const sentForChat =\n      this.chats.length > 0 ? this.chats[this.activeChat] : null;\n    let message = {\n      text: this.messageField.value,\n      chatId: sentForChat?._id || '',\n      productId: this.product._id,\n    };\n\n    const chatRoom =\n      this.chats.length > 0\n        ? of(null)\n        : this.chatService.createChat({\n            userIds: [this.loggedUser._id, this.author._id],\n            productId: this.product._id,\n            messages: [],\n          });\n\n    this.messageField.setValue('', { emitEvent: false });\n\n    chatRoom\n      .pipe(\n        map((chat) => chat || sentForChat),\n        mergeMap((chat: Chat) => {\n          message.chatId = chat._id;\n\n          return this.chatService.sendMessage(message);\n        }),\n        takeUntil(this.unsubscribe)\n      )\n      .subscribe((chat: Chat) => {\n        this.chats[this.activeChat] = chat;\n\n        /** This is not a good practise cuz we break angular-lifecycle => #Refactor */\n        setTimeout(() => this.scrollToBottom());\n      });\n  }\n\n  onImageLoad(evt) {\n    if (evt && evt.target) {\n      this.product.loaded = true;\n      this.imagesLoadedCount++;\n\n      if (this.product.images.length === this.imagesLoadedCount) {\n        this.loaded = true;\n      }\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.unsubscribe.next();\n    this.unsubscribe.complete();\n  }\n}\n","<div fxLayout=\"column\" class=\"main-content\">\n  <estudy-ui-header></estudy-ui-header>\n  <div\n    class=\"body\"\n    fxLayout=\"row\"\n    fxLayoutAlign=\"center start\"\n    fxLayout.lt-lg=\"column\"\n    fxLayoutAlign.lt-lg=\"start center\"\n  >\n    <div fxLayout=\"row\" fxLayout.lt-lg=\"column-reverse\" fxFlex=\"0 0 50%\">\n      <ng-container *ngIf=\"loaded; else ghostLoadingImages\">\n        <div\n          class=\"image-list\"\n          fxLayout=\"column\"\n          fxLayout.lt-lg=\"row\"\n          fxLayoutAlign=\"start start\"\n          fxLayoutGap=\"20px\"\n        >\n          <img\n            *ngFor=\"let image of product.images; let i = index\"\n            width=\"150\"\n            loading=\"lazy\"\n            [src]=\"image\"\n            (click)=\"showImage(i)\"\n            (load)=\"onImageLoad($event)\"\n          />\n        </div>\n        <div\n          class=\"big-image\"\n          [style.background-image]=\"\n            'url(' + product.images[selectedImage] + ')'\n          \"\n        ></div>\n        <ng-container *ngIf=\"useMobileView\" [ngTemplateOutlet]=\"productTitle\">\n        </ng-container>\n      </ng-container>\n    </div>\n    <div\n      fxLayout=\"column\"\n      fxLayoutGap=\"45px\"\n      fxLayoutGap.lt-lg=\"20px\"\n      fxFlex=\"0 0 50%\"\n    >\n      <ng-container *ngIf=\"loaded; else ghostLoadingProduct\">\n        <div\n          fxLayout=\"row\"\n          fxLayoutAlign=\"space-between start\"\n          fxLayout.lt-lg=\"column\"\n        >\n          <ng-container\n            *ngIf=\"!useMobileView\"\n            [ngTemplateOutlet]=\"productTitle\"\n          ></ng-container>\n          <div class=\"statuses\" fxLayout=\"column\" fxLayoutGap=\"10px\">\n            <small>Stav produktu:</small>\n            <div fxLayout=\"row\" fxLayoutAlign=\"end center\" fxLayoutGap=\"10px\">\n              <ng-container *ngFor=\"let status of getStatuses(); let i = index\">\n                <button\n                  mat-flat-button\n                  disableRipple\n                  [matTooltip]=\"status.tooltip\"\n                  matTooltipPosition=\"below\"\n                  class=\"status {{ status.class }}\"\n                  [class.status--selected]=\"\n                    loggedUser &&\n                    loggedUser._id === product.userId &&\n                    i === selectedStatus\n                  \"\n                  (click)=\"setStatusToProduct(i)\"\n                >\n                  <i [class]=\"status.icon\"></i>\n                </button>\n              </ng-container>\n            </div>\n          </div>\n        </div>\n        <div class=\"chat\" fxLayout=\"column\" fxLayoutAlign=\"space-between start\">\n          <div\n            *ngIf=\"\n              loggedUser &&\n              loggedUser._id !== author._id &&\n              product.status === 'SOLD' &&\n              chats[activeChat]?.messages?.length <= 0\n            \"\n            class=\"chat__wrapper\"\n            fxLayout=\"row\"\n            fxLayoutAlign=\"center center\"\n          >\n            <div>\n              Produkt je oznaen jako <b>Prodan</b>,<br />\n              pidejte si produkt do oblbench a vykejte zda bude jet\n              dostupn\n            </div>\n          </div>\n          <ng-container\n            *ngIf=\"\n              chatUsers.length > 0 &&\n              chats.length > 0 &&\n              loggedUser &&\n              loggedUser._id === author._id\n            \"\n          >\n            <div\n              class=\"users-chat\"\n              fxLayout=\"row\"\n              fxLayoutAlign=\"start center\"\n              fxLayoutGap=\"10px\"\n            >\n              <div\n                class=\"avatar-mini\"\n                fxLayout=\"column\"\n                fxLayoutAlign=\"center center\"\n                [matTooltip]=\"chatUser.username\"\n                matTooltipPosition=\"above\"\n                *ngFor=\"let chatUser of chatUsers; let i = index\"\n                (click)=\"selectChat(chatUser)\"\n                [class.avatar-mini--selected]=\"activeChat === i\"\n              >\n                {{ chatUser.username.slice(0, 2) }}\n                <ng-container *ngIf=\"getUnreadMessages(i) > 0 && author\">\n                  <div\n                    class=\"length-circle\"\n                    fxLayout=\"row\"\n                    fxLayoutAlign=\"center center\"\n                  >\n                    {{ getUnreadMessages(i) }}\n                  </div>\n                </ng-container>\n              </div>\n            </div>\n          </ng-container>\n          <ng-container *ngIf=\"showScrollButton\">\n            <mat-card class=\"scroll-bottom-button\" (click)=\"scrollToBottom()\">\n              <i class=\"fas fa-arrow-alt-circle-down\"></i>\n            </mat-card>\n          </ng-container>\n          <div\n            class=\"chat__messages\"\n            fxLayout=\"column\"\n            fxLayoutAlign=\"end start\"\n            fxLayoutGap=\"20px\"\n            (scroll)=\"showScrollToBottom($event.target)\"\n            (load)=\"scrollToBottom()\"\n            #chatContainer\n          >\n            <ng-container\n              *ngIf=\"chats[activeChat]?.messages?.length > 0; else noChat\"\n            >\n              <div\n                *ngFor=\"let message of chats[activeChat].messages\"\n                [fxLayout]=\"\n                  loggedUser._id === message.authorId ? 'row-reverse' : 'row'\n                \"\n                [class.chat__messages--normal]=\"\n                  loggedUser._id != message.authorId\n                \"\n                [class.chat__messages--reverse]=\"\n                  loggedUser._id === message.authorId\n                \"\n                fxLayoutGap=\"10px\"\n              >\n                <div\n                  class=\"avatar-mini\"\n                  fxLayout=\"column\"\n                  fxLayoutAlign=\"center center\"\n                >\n                  {{\n                    message.authorId === author._id\n                      ? author.username.slice(0, 2)\n                      : getUser(message.authorId).username.slice(0, 2)\n                  }}\n                </div>\n                <div fxLayout=\"column\" fxLayoutAlign=\"start start\">\n                  <div\n                    class=\"chat__message\"\n                    fxLayoutAlign=\"center center\"\n                    [innerHTML]=\"message.text\"\n                  ></div>\n                  <small *ngIf=\"loggedUser._id !== message.authorId\">{{\n                    getUser(message.authorId)?.username || author.username\n                  }}</small>\n                </div>\n              </div>\n            </ng-container>\n          </div>\n          <mat-card\n            fxlayout=\"row\"\n            fxLayoutAlign=\"space-between center\"\n            fxLayoutGap.lt-lg=\"10px\"\n          >\n            <input\n              placeholder=\"Zprva\"\n              [formControl]=\"messageField\"\n              (keyup.enter)=\"sendMessage()\"\n            />\n            <button\n              mat-flat-button\n              [disabled]=\"\n                this.messageField.value.length === 0 ||\n                (loggedUser &&\n                  loggedUser._id === author._id &&\n                  chats.length <= 0)\n              \"\n              class=\"black\"\n              (click)=\"sendMessage()\"\n            >\n              Poslat <i class=\"fas fa-paper-plane\"></i>\n            </button>\n          </mat-card>\n        </div>\n      </ng-container>\n    </div>\n    <div\n      class=\"notification-container\"\n      fxLayout=\"row\"\n      fxLayoutAlign=\"start end\"\n      fxLayoutGap=\"20px\"\n    >\n      <ng-container\n        *ngIf=\"statusChanged\"\n        [ngTemplateOutlet]=\"statusChangedNotification\"\n      ></ng-container>\n    </div>\n  </div>\n  <estudy-ui-footer></estudy-ui-footer>\n</div>\n\n<ng-template #productTitle>\n  <div class=\"product-title\" fxLayout=\"column\" fxLayoutGap=\"10px\">\n    <h1>\n      {{ product.title }} - {{ product.description }}\n      <ng-container *ngIf=\"loggedUser && loggedUser._id === product.userId\">\n        <sup\n          class=\"edit-button\"\n          (click)=\"openEditDialog()\"\n          matTooltip=\"Upravit produkt\"\n          matTooltipPosition=\"below\"\n          ><i class=\"fas fa-edit\"></i\n        ></sup>\n      </ng-container>\n    </h1>\n    <mat-chip-list>\n      <mat-chip\n        *ngFor=\"let category of product.categories\"\n        class=\"chip\"\n        color=\"primary\"\n      >\n        {{ category }}\n      </mat-chip>\n    </mat-chip-list>\n  </div>\n</ng-template>\n\n<ng-template #ghostLoadingImages>\n  <div\n    class=\"image-list image-list--loading\"\n    fxLayout=\"column\"\n    fxLayout.lt-lg=\"row\"\n    fxLayoutGap=\"20px\"\n  >\n    <div>&nbsp;</div>\n    <div>&nbsp;</div>\n    <div>&nbsp;</div>\n  </div>\n  <div class=\"big-image big-image--loading\"></div>\n\n  <ng-container *ngIf=\"useMobileView\">\n    <div\n      class=\"product-title--loading\"\n      fxLayout.lt-lg=\"column\"\n      fxLayoutGap.lt-lg=\"10px\"\n    >\n      <div>&nbsp;</div>\n      <div fxLayout.lt-lg=\"row\" fxLayoutGap.lt-lg=\"10px\">\n        <div>&nbsp;</div>\n        <div>&nbsp;</div>\n        <div>&nbsp;</div>\n      </div>\n    </div>\n  </ng-container>\n</ng-template>\n\n<ng-template #ghostLoadingProduct>\n  <div class=\"product-title--loading\" fxLayout=\"column\" fxLayoutGap=\"10px\">\n    <div>&nbsp;</div>\n    <div fxLayout=\"row\" fxLayoutGap=\"10px\">\n      <div>&nbsp;</div>\n      <div>&nbsp;</div>\n      <div>&nbsp;</div>\n    </div>\n  </div>\n  <div class=\"chat--loading\"></div>\n</ng-template>\n\n<ng-template #noChat>\n  <div *ngIf=\"loggedUser && loggedUser._id === author._id && chats.length <= 0\">\n    Zatm nemte dn zprvy, jakmile nkdo zareaguje, chat se vm\n    <b>zpstupn</b>\n  </div>\n  <div *ngIf=\"!loggedUser || loggedUser._id !== author._id\">\n    Zatm nemte dn zprvy, zprvu polete po kliknut na tlatko\n    <b>Poslat</b>\n  </div>\n</ng-template>\n\n<ng-template #statusChangedNotification>\n  <mat-card\n    class=\"change-card\"\n    fxLayout=\"row\"\n    fxLayoutAlign=\"space-between center\"\n    [@fadeOutContainer]\n  >\n    <i class=\"fas fa-check-circle\"></i>\n    <div>Stav produktu byl spn zmnn</div>\n    <div>&nbsp;</div>\n  </mat-card>\n</ng-template>\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpParams } from '@angular/common/http';\r\n\r\nimport { HttpRequestService } from './http-request.service';\r\nimport { Chat } from '../types/chat';\r\nimport { Observable } from 'rxjs';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class ChatService extends HttpRequestService {\r\n  private url = {\r\n    root: 'api/chats',\r\n    sendMessage: 'api/chats/message',\r\n  };\r\n\r\n  constructor(http: HttpClient) {\r\n    super(http);\r\n  }\r\n\r\n  getChats(productId: string): Observable<Chat[]> {\r\n    const productIdParam = new HttpParams().set('productId', productId);\r\n\r\n    return this.get<Chat[]>(this.url.root, productIdParam);\r\n  }\r\n\r\n  getChatState(chatId: string): Observable<Chat> {\r\n    const chatIdParam = new HttpParams().set('id', chatId);\r\n\r\n    return this.get<Chat>(`${this.url.root}/change`, chatIdParam);\r\n  }\r\n\r\n  createChat(payload: any): Observable<Chat[]> {\r\n    return this.post(`${this.url.root}`, payload);\r\n  }\r\n\r\n  sendMessage(payload: any) {\r\n    return this.post(`${this.url.sendMessage}`, payload);\r\n  }\r\n\r\n  patchChat(id: string, payload: any): Observable<Chat> {\r\n    return this.patch(`${this.url.root}/${id}`, payload);\r\n  }\r\n\r\n  deleteChat(id: number) {\r\n    return this.delete(`${this.url.root}/${id}`);\r\n  }\r\n}\r\n","export interface Product {\r\n  _id: string;\r\n  userId: string;\r\n  title: string;\r\n  description: string;\r\n  categories: string[];\r\n  images: string[];\r\n  status?: string;\r\n\r\n  timestamp?: string;\r\n  createdAt?: string;\r\n  updatedAT?: string;\r\n\r\n  isFavourite?: boolean;\r\n  loaded?: boolean;\r\n}\r\n\r\nexport const STATUSES: {\r\n  type: string;\r\n  icon: string;\r\n  class: string;\r\n  tooltip: string;\r\n}[] = [\r\n  {\r\n    type: 'ACTIVE',\r\n    icon: 'fas fa-solid fa-users',\r\n    class: 'status--communication',\r\n    tooltip: 'O tento produk m zjem vce lid',\r\n  },\r\n  {\r\n    type: 'SOLD',\r\n    icon: 'fas fa-solid fa-handshake',\r\n    class: 'status--sold',\r\n    tooltip: 'Produkt je ji zarezervovn',\r\n  },\r\n];\r\n"],"sourceRoot":"webpack:///"}