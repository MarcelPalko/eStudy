{"version":3,"sources":["./src/app/login-page/login-page.component.ts","./src/app/login-page/login-page.component.html","./src/app/login-page/login-page.module.ts"],"names":[],"mappings":"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","file":"login-page-login-page-module.js","sourcesContent":["import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { HttpErrorResponse, HttpParams } from '@angular/common/http';\nimport { Router } from '@angular/router';\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\n\nimport { passwordMatcherValidator } from '../validators/password.validator';\nimport { AuthService } from '../services/auth.service';\nimport { ReplaySubject, of } from 'rxjs';\nimport { takeUntil, switchMap } from 'rxjs/operators';\nimport { UserService } from '../services/user.service';\n\nconst REGISTER_FORM: { [key: string]: FormControl } = {\n  ['username']: new FormControl('', [\n    Validators.minLength(5),\n    Validators.required,\n  ]),\n  ['reEnterPassword']: new FormControl('', [\n    Validators.minLength(5),\n    Validators.required,\n  ]),\n  ['class']: new FormControl('', [\n    Validators.minLength(4),\n    Validators.maxLength(4),\n  ]),\n};\n\nconst LOGIN_FORM: { [key: string]: FormControl } = {\n  ['email']: new FormControl('', [\n    Validators.minLength(5),\n    Validators.email,\n    Validators.required,\n  ]),\n  ['password']: new FormControl('', [\n    Validators.minLength(5),\n    Validators.required,\n  ]),\n};\n\n@Component({\n  selector: 'estudy-login-page',\n  templateUrl: './login-page.component.html',\n  styleUrls: ['./login-page.component.scss'],\n})\nexport class LoginPageComponent implements OnInit, OnDestroy {\n  isLogin: boolean = this.router.url === '/login' ? true : false;\n  isCheckingProperties: { [key: string]: boolean } = {\n    ['username']: false,\n    ['email']: false,\n  };\n  checkedProperties: { [key: string]: boolean } = {\n    ['username']: false,\n    ['email']: false,\n  };\n  wrongCredentials: boolean = false;\n\n  form: FormGroup = new FormGroup(LOGIN_FORM);\n\n  private unsubscribe: ReplaySubject<void> = new ReplaySubject<void>();\n\n  constructor(\n    private router: Router,\n    private authService: AuthService,\n    private userService: UserService\n  ) {}\n\n  ngOnInit(): void {\n    if (this.isLogin && this.form?.controls?.username) {\n      this.removeRegisterFormControls();\n    } else if (!this.isLogin) {\n      this.createRegisterForm();\n    }\n\n    this.form.reset();\n  }\n\n  doActionBasedOnRoute(register: boolean): void {\n    if (this.isLogin && !register) {\n      this.loginUser();\n    } else if (this.isLogin && register) {\n      this.redirectToRegister();\n    } else {\n      this.registerUser();\n    }\n  }\n\n  createRegisterForm(): void {\n    Object.entries(REGISTER_FORM).forEach(([formControlName, formcontrol]) => {\n      this.form.addControl(formControlName, formcontrol);\n    });\n\n    this.form.setValidators(passwordMatcherValidator);\n  }\n\n  removeRegisterFormControls(): void {\n    Object.keys(REGISTER_FORM).forEach((formControlName) => {\n      this.form.removeControl(formControlName);\n    });\n  }\n\n  redirectToRegister(): void {\n    this.router.navigate(['/register']);\n  }\n\n  checkUsername(event): void {\n    if (!this.isLogin) this.checkFromProperties(event, 'username');\n  }\n\n  checkEmail(event): void {\n    if (!this.isLogin) this.checkFromProperties(event, 'email');\n  }\n\n  checkFromProperties(event: Event, property: string): void {\n    if (event) {\n      this.isCheckingProperties[property] = true;\n\n      of(event)\n        .pipe(\n          switchMap((formChange) => {\n            if (formChange) {\n              const propertyParam = new HttpParams().set(\n                property,\n                this.form.value[property]\n              );\n              return this.userService.getUsers(propertyParam);\n            }\n          }),\n          takeUntil(this.unsubscribe)\n        )\n        .subscribe((foundUsers) => {\n          if (foundUsers?.length === 0) {\n            this.checkedProperties[property] = true;\n          } else {\n            this.checkedProperties[property] = false;\n            this.form['controls'][property].setErrors({ invalid: true });\n          }\n\n          this.isCheckingProperties[property] = false;\n        });\n    }\n  }\n\n  loginUser(): void {\n    if (this.form.valid) {\n      const user = {\n        email: this.form.value.email,\n        password: this.form.value.password,\n      };\n\n      this.authService\n        .authenticateUser(user)\n        .pipe(takeUntil(this.unsubscribe))\n        .subscribe(\n          (user) => {\n            if (user) {\n              this.router.navigate(['/products']);\n            }\n          },\n          (err: HttpErrorResponse) => {\n            if (err.status === 401) {\n              this.wrongCredentials = true;\n              this.form.reset();\n            }\n          }\n        );\n    }\n  }\n\n  registerUser(): void {\n    if (this.form.valid) {\n      const user = {\n        username: this.form.value.username,\n        email: this.form.value.email,\n        password: this.form.value.password,\n        class: this.form.value.class.length > 0 ? this.form.value.class : null,\n      };\n\n      this.authService\n        .registerUser(user)\n        .pipe(takeUntil(this.unsubscribe))\n        .subscribe((user) => {\n          if (user) {\n            this.form.reset();\n            this.form = new FormGroup(LOGIN_FORM);\n            this.router.navigate(['/products']);\n          }\n        });\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.unsubscribe.next();\n    this.unsubscribe.complete();\n  }\n}\n","<div fxLayout=\"column\" class=\"main-content\">\n  <estudy-ui-header></estudy-ui-header>\n  <div fxLayout=\"row\" fxLayoutAlign=\"center center\" class=\"login-form\">\n    <mat-card fxLayout=\"column\" fxLayoutAlign=\"space-between center\">\n      <h1\n        class=\"login-form__title\"\n        fxLayout=\"row\"\n        fxLayoutAlign=\"center end\"\n        fxLayoutGap=\"5px\"\n      >\n        <img src=\"../../../assets/imgs/logo02.png\" width=\"40px\" />\n        <div>eStudy</div>\n      </h1>\n\n      <form\n        [formGroup]=\"form\"\n        fxLayout=\"column\"\n        fxLayoutAlign=\"space-evenly stretch\"\n      >\n        <ng-container *ngIf=\"!isLogin\">\n          <mat-form-field>\n            <mat-label>Uživatelské jméno</mat-label>\n            <input\n              matInput\n              autocomplete=\"off\"\n              formControlName=\"username\"\n              (input)=\"checkUsername($event)\"\n            />\n            <mat-error\n              *ngIf=\"\n                form.controls.username?.invalid &&\n                form.controls.username.value?.length > 0 &&\n                !isLogin\n              \"\n              >Toto uživatelské jméno je zabrané, zkuste jiné</mat-error\n            >\n            <mat-icon\n              *ngIf=\"\n                form.controls.username.value?.length > 0 &&\n                isCheckingProperties['username']\n              \"\n              matSuffix\n              class=\"icon fas fa-spinner fa-spin\"\n            ></mat-icon>\n            <mat-icon\n              *ngIf=\"\n                form.controls.username.value?.length > 0 &&\n                !isCheckingProperties['username'] &&\n                checkedProperties['username']\n              \"\n              matSuffix\n              class=\"icon-green fas fa-check\"\n            ></mat-icon>\n            <mat-icon\n              *ngIf=\"\n                form.controls.username.value?.length > 0 &&\n                !isCheckingProperties['username'] &&\n                !checkedProperties['username']\n              \"\n              matSuffix\n              class=\"icon-warn fas fa-times\"\n            ></mat-icon>\n          </mat-form-field>\n        </ng-container>\n        <mat-form-field>\n          <mat-label>Email</mat-label>\n          <input\n            matInput\n            autocomplete=\"off\"\n            formControlName=\"email\"\n            (input)=\"checkEmail($event)\"\n          />\n          <mat-error\n            *ngIf=\"\n              form.controls.email?.invalid &&\n              form.controls.email?.value?.length >= 4 &&\n              !isLogin\n            \"\n            >Tento email se již používá, zkuste jiný</mat-error\n          >\n          <mat-icon\n            *ngIf=\"\n              form.controls.email.value?.length > 0 &&\n              isCheckingProperties['email'] &&\n              !isLogin\n            \"\n            matSuffix\n            class=\"icon fas fa-spinner fa-spin\"\n          ></mat-icon>\n          <mat-icon\n            *ngIf=\"\n              form.controls.email.value?.length > 0 &&\n              !isCheckingProperties['email'] &&\n              checkedProperties['email'] &&\n              !isLogin\n            \"\n            matSuffix\n            class=\"icon-green fas fa-check\"\n          ></mat-icon>\n          <mat-icon\n            *ngIf=\"\n              form.controls.email.value?.length > 0 &&\n              !isCheckingProperties['email'] &&\n              !checkedProperties['email'] &&\n              !isLogin\n            \"\n            matSuffix\n            class=\"icon-warn fas fa-times\"\n          ></mat-icon>\n        </mat-form-field>\n        <mat-form-field>\n          <mat-label>Heslo</mat-label>\n          <input matInput type=\"password\" formControlName=\"password\" />\n        </mat-form-field>\n        <ng-container *ngIf=\"!isLogin\">\n          <mat-form-field>\n            <mat-label>Zopakuj heslo</mat-label>\n            <input matInput type=\"password\" formControlName=\"reEnterPassword\" />\n            <mat-error *ngIf=\"form['controls']['reEnterPassword'].invalid\"\n              >Hesla se neshodují !</mat-error\n            >\n          </mat-form-field>\n          <mat-form-field>\n            <mat-label>Třída</mat-label>\n            <input matInput formControlName=\"class\" />\n          </mat-form-field>\n        </ng-container>\n        <mat-error *ngIf=\"wrongCredentials\" class=\"login-form__error\"\n          >Špatné přihlašovací údaje !</mat-error\n        >\n      </form>\n\n      <div\n        class=\"login-form__footer\"\n        fxLayout=\"column\"\n        fxLayoutAlign=\"start stretch\"\n        fxLayoutGap=\"10px\"\n      >\n        <ng-container *ngIf=\"isLogin\">\n          <button mat-flat-button (click)=\"doActionBasedOnRoute()\">\n            Přihlásit\n          </button>\n          <div class=\"button-divider\">Nebo</div>\n        </ng-container>\n\n        <button\n          mat-stroked-button\n          [disabled]=\"!isLogin && form.invalid\"\n          (click)=\"doActionBasedOnRoute(isLogin)\"\n        >\n          Registrovat\n        </button>\n      </div>\n    </mat-card>\n  </div>\n  <estudy-ui-footer></estudy-ui-footer>\n</div>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule, Routes } from '@angular/router';\nimport { FlexLayoutModule } from '@angular/flex-layout';\nimport { ReactiveFormsModule } from '@angular/forms';\n\nimport { MatCardModule } from '@angular/material/card';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatIconModule } from '@angular/material/icon';\n\nimport { UiHeaderModule } from '../ui-components/ui-header/ui-header.module';\nimport { UiFooterModule } from '../ui-components/ui-footer/ui-footer.module';\nimport { LoginPageComponent } from './login-page.component';\n\nconst routes: Routes = [\n  { path: '', component: LoginPageComponent },\n  { path: 'register', component: LoginPageComponent },\n];\n\n@NgModule({\n  declarations: [LoginPageComponent],\n  imports: [\n    CommonModule,\n    RouterModule.forChild(routes),\n    FlexLayoutModule,\n    ReactiveFormsModule,\n\n    MatCardModule,\n    MatButtonModule,\n    MatInputModule,\n    MatIconModule,\n\n    UiHeaderModule,\n    UiFooterModule,\n  ],\n  exports: [LoginPageComponent],\n})\nexport class LoginPageModule {}\n"],"sourceRoot":"webpack:///"}